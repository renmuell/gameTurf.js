{"version":3,"sources":["gameTurf.js"],"names":["e","exports","module","define","amd","f","window","global","self","gameTurf","t","n","r","s","o","u","a","require","i","Error","call","length","1","_dereq_","settings","input","theatre","world","ui","entityCollisionDetection","entityManager","worldCollisionDetection","wind","sound","Stats","game","stepTimeThen","stepTimeNow","stepTimeElapsed","timestep","maxFPS","isRunning","fps","framesThisSecond","lastFpsUpdate","showStats","init","_settings","Object","assign","statsSetup","theatreMovesWithPlayer","run","stageCanvas","draw","onblur","pause","onEscDown","closeMenu","playBackgroundSound","requestAnimationFrame","loop","openMenu","pauseBackgroundSound","Date","getTime","stats","begin","lastFrameTimeMs","numUpdateSteps","update","postUpdate","panic","preDraw","end","delta","step","clearStage","preShake","worldNeedsRedraw","clearWorld","postShake","setMode","domElement","style","position","left","top","document","body","appendChild","datGui","datGuiFolder","addFolder","remember","add","listen","../../vendors/stats.min","./../detectors/entityCollisionDetection","./../detectors/worldCollisionDetection","./../managers/entityManager","./../systems/wind","./../systems/world","./input","./settings","./sound","./theatre","./ui","2","keyPressed","onEscDownCallbacks","onEscUpCallbacks","shiftPressed","movementDirectionData","playerInteraction","vector","x","y","lastClickPosition","new","recordMouseMove","callback","push","onEscUp","addEventListener","keydown","keyup","stageCanvasMousedownHandler","stageCanvasMousemoveHandler","stageCanvasMouseupHandler","event","keyCode","shiftKey","evt","offsetX","offsetY","adjustPositionToStage","getPlayerMovementDirection","3","vectorSubtract","vector1","vector2","4","tileSize","datGuiIsOn","physicsDebugMode","debugWorldCollisions","soundEngineOn","allowBackgroundMusic","effectMusicVolume","effects","backgroundSong","src","undefined","volume","5","Howl","forEach","effect","addEffect","id","name","file","createEffect","isPlaying","howl","onend","play","onlyIfNotPlaying","playEffect","../../vendors/howler.min","6","stage","gridCanvas","grid","backdropCanvas","backdrop","foregroundCanvas","foreground","scale","canvasBoxLeft","canvasBoxTop","canvasBoxRight","canvasBoxBottom","shakeDuration","shakeStartTime","allowScreenShake","screenShakeMagnitude","useResolutionDivider","resolutionDivider","movesWithPlayer","currentTranslateX","currentTranslateY","canvasHeight","innerHeight","canvasWidth","innerWidth","getElementById","getContext","waterCanvas","width","height","resize","setSize","canvas","className","transformOrigin","transform","setScale","clearRect","clearGrid","drawGrids","drawGrid","now","save","dx","Math","random","dy","translate","restore","startShake","playerUpdate","physics","widthHalf","heightHalf","posX","posY","setTransform","lineWidth","gap","color","beginPath","moveTo","lineTo","strokeStyle","stroke","drawTriangleFromCenter","isOutsideOfCanvas","halfWidth","halfHeight","floor","fillStyle","fill","drawTriangleFromCenterUpsideDown","drawSquareFromCenter","fillRect","drawCurvedSquareFromCenter","offset","quadraticCurveTo","drawBezierCurvedSquareFromCenter","divider","bezierCurveTo","drawSquareFromLeftTopCorner","size","drawCircle","arc","PI","drawLine","drawLineWithVector","drawPath","linePositions","startIndex","maxLength","positionForLine","positionIndex","drawMultipleLines","lines","lineStartX","lineStartY","lineEndX","lineEndY","right","bottom","7","menu","continueBtn","bubbleList","dat","GUI","continueGameCallback","output","pointerEvents","zIndex","timeElapsed","bubble","time","element","remove","death","setBubblePosition","filter","showBubble","text","createElement","innerHTML","classList","lineHeight","backgroundColor","textAlign","borderRadius","8","util","vectorToDegree","vectorToRadiant","atan2","vectorLength","sqrt","pow","vectorDistanz","scaleVectorBy","value","shrinkVectorToLength","newLength","setVectorToLengthOne","getVectorAngleDegree","moveRadiant","sin","cos","getPositionByDegree","degree","radius","round","9","entity","entityCollisions","visibleEntities","entityId","entities","checkEntities","checkEntityId","checkEntity","collsitionDetectionOfTwoEntities","Id","calculateEntitiesCollisionReaction","objectCollision","z","setObjectCollision","entity1","entity2","newEntity1VelX","velocity","mass","newEntity1VelY","newEntity2VelX","newEntity2VelY","setVelocity","entity1HitBox","getHitBox","entity2itBox","Left","Right","Top","Bottom","isEntityCollidingWithOtherEntites","10","tilesHelper","collsitions","checkLines","collsitionDetection","mapWithTileTypes","worldWith","wolrdHeight","hitbox","calculateNeahrestTileWalls","centerPosition","colide","tileNr","neahrestTileWalls","tileWallNr","calculateWallCollsitionDenfung","wall","points","hitboxPoint","hitboxPointFuturePosition","calculateFuturePositionOf","checkLineIntersectionFast","debugCollisionLine","wallIsLeft","wallIsRight","wallIsUp","wallIsDown","isBounce","b","c","d","p","q","debugLine","det","lambda","gamma","./../core/settings","./../core/sound","./../core/theatre","./../helpers/physicsHelper","./../helpers/tilesHelper","11","config","face","defaultFace","currentFace","faceExpressionDuration","faceExpressionStartTime","positions","leftEyePosition","rightEyePosition","mouthPosition","eyeSize","mouthCloseSize","mouthOpenSize","lookDirectionAngle","drawNoramlFace","addToDatGuiFolder","folder","faceFolder","isInteracting","collsition","SetSurpiseFace","isMoving","SetFaceLookDown","SetFaceLookTop","SetFaceLookRight","SetFaceLookLeft","setNoramlFaceOpenEyes","drawSurpiseFace","drawFaceLookLeft","drawFaceLookRight","drawFaceLookTop","drawFaceLookDown","drawNoramlFaceOpenEyes","drawFaceLook","shake","./../core/util","12","onInteraction","drawHighlightBox","13","tempPhysics","lastPositions","lastTimeSet","setTimeDelay","lastEntityIndex","onlyUpdateIfMoving","shouldDrawLine","shouldDrawBodies","g","lastPositionsFolder","clear","drawBodies","14","physicsHelper","speed","runSpeed","isFrictionless","frictionMagnitude","canWorldColide","angle","maxVelocity","hitBox","currentSpeed","createHitBox","physicsFolder","calculateFriction","lowerVelocityTo","inputUpdate","addVelocity","entityHitBox","objectIsLeft","objectIsRight","objectIsUp","objectIsDown","calculateVelocityForTime","drawDebugInfo","valueX","valueY","calculateSpeed","./../core/ui","15","math","interaction","./core/game","./core/input","./core/math","./core/settings","./core/sound","./core/theatre","./core/ui","./core/util","./detectors/entityCollisionDetection","./entityPlugins/face","./entityPlugins/interaction","./entityPlugins/lastPositions","./entityPlugins/physics","./managers/entityManager","./systems/wind","./systems/world","16","velocityDirection","17","tileHelper","tileWalls","createdTime","grassHalmPositions","calculateMapWithTileTypes","map","arrayPosition","val","tileArrayPositionX","tileArrayPositionY","addTileWalls","wallType","walls","tileLeftTopPosition","tileRightTopPosition","tileRightBottomPosition","tileLeftBottomosition","drawTiles","mintileArrayPositionX","mintileArrayPositionY","maxtileArrayPositionX","maxtileArrayPositionY","tilePosition","linearNormalizeTimeSegments","quadraticNormalizeTimeSegments","tileWidth","tileHeight","drawGrass","count","grassHeight","grassHalmPosition","key","strokeWidth","18","QuadTree","tree","nextIndex","retrieveInBounds","insert","getNeahrestEntity","maxRange","neahrestEnitty","neahrestEnittyDistance","Number","MAX_SAFE_INTEGER","distanceVector","checkDistance","../../vendors/QuadTree","../core/theatre","../core/util","19","Physics","LastPositions","windParticles","WindParticle","type","isAlive","lifeTime","birth","windDirection","windSpeed","currentLifeTime","currentLifeTimeNormal","./../entityPlugins/lastPositions","./../entityPlugins/physics","20","WindParticleFactory","maxAliveWindPartiles","influenceEntityPhysic","moveDirectionVector","./WindParticleFactory","21","22","bounds","pointQuad","maxDepth","maxChildren","node","Node","BoundsNode","this","root","depth","_bounds","children","nodes","_maxChildren","_maxDepth","_depth","_stuckChildren","prototype","item","Array","len","retrieve","slice","treeResult","_filterResults","filteredResult","_isBoundOverlappingBound","_isPointInsideBounds","point","b1","b2","_classConstructor","TOP_LEFT","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_RIGHT","index","_findIndex","subdivide","result","collidesWith","concat","bx","by","b_w_h","b_h_h","bx_b_w_h","by_b_h_h","_out","getChildren","out","apply","23","AudioContext","webkitAudioContext","Audio","createGain","createGainNode","gain","connect","destination","_codecs","_howls","_muted","_volume","iOSAutoEnable","noAudio","usingWebAudio","ctx","_setupCodecs","parseFloat","_webAudio","_getSoundIds","_soundById","_node","mute","muted","codecs","canPlayType","replace","test","navigator","userAgent","mp3","mpeg","opus","ogg","wav","aac","m4a","mp4","weba","webm","_enableiOSAudio","_iOSEnabled","createBuffer","createBufferSource","buffer","start","noteOn","setTimeout","playbackState","PLAYING_STATE","FINISHED_STATE","removeEventListener","console","error","_autoplay","autoplay","_ext","ext","_html5","html5","_loop","_pool","pool","_preload","preload","_rate","rate","_sprite","sprite","_src","_duration","_loaded","_sounds","_endTimers","_onend","fn","_onfaded","onfaded","_onload","onload","_onloaderror","onloaderror","_onpause","onpause","_onplay","onplay","_onstop","onstop","load","exec","split","toLowerCase","_emit","arguments","_paused","_ended","_id","_inactiveSound","once","_","_seek","l","abs","bind","_start","_stop","_refreshBuffer","setValueAtTime","currentTime","_playStart","bufferSource","noteGrainOn","_clearTimer","playbackRate","readyState","isCocoonJS","m","seek","stop","noteOff","isNaN","duration","indexOf","parseInt","fade","linearRampToValueAtTime","ceil","setInterval","max","min","clearInterval","playing","unload","_errorFn","_loadFn","splice","on","off","clearTimeout","_drain","reset","disconnect","_panner","loopStart","loopEnd","_parent","create","paused","_errorListener","_loadListener","code","keys","__default","atob","String","charAt","fromCharCode","Uint8Array","charCodeAt","XMLHttpRequest","open","responseType","response","onerror","send","decodeAudioData","Howler","HowlerGlobal","Sound","_pos","_orientation","_velocity","_listenerAttr","dopplerFactor","speedOfSound","pos","listener","setPosition","orientation","setOrientation","listenerAttr","_pannerAttr","coneInnerAngle","coneOUterAngle","coneOuterGain","distanceModel","maxDistance","panningModel","refDistance","rolloffFactor","pannerAttr","_coneInnerAngle","_coneOUterAngle","_coneOuterGain","_distanceModel","_maxDistance","_panningModel","_refDistance","_rolloffFactor","createPanner","24","cssText","toUpperCase","display","firstChild","performance","k","preventDefault","Infinity","v","A","B","w","C","D","memory","h","E","F","REVISION","textContent","usedJSHeapSize","jsHeapSizeLimit"],"mappings":"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","file":"gameTurf-min.js","sourcesContent":["!function(e){if(\"object\"==typeof exports)module.exports=e();else if(\"function\"==typeof define&&define.amd)define(e);else{var f;\"undefined\"!=typeof window?f=window:\"undefined\"!=typeof global?f=global:\"undefined\"!=typeof self&&(f=self),f.gameTurf=e()}}(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);throw new Error(\"Cannot find module '\"+o+\"'\")}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n/**\n * game.js\n *\n * @package gameturfjs\n */\n\n(function() {\n\n/*global require, module */\n\nvar settings                  = _dereq_('./settings')\nvar input                     = _dereq_('./input')\nvar theatre                   = _dereq_('./theatre')\nvar world                     = _dereq_('./../systems/world')\nvar ui                        = _dereq_('./ui')\nvar entityCollisionDetection  = _dereq_('./../detectors/entityCollisionDetection')\nvar entityManager             = _dereq_('./../managers/entityManager')\nvar worldCollisionDetection   = _dereq_('./../detectors/worldCollisionDetection')\nvar wind                      = _dereq_('./../systems/wind')\nvar sound                     = _dereq_('./sound')\nvar Stats                     = _dereq_('../../vendors/stats.min')\n\n/**\n *  This is the heart of the game engine. It contains the functions to \n *  start and stop the engine, it beholds the powerful game loop!\n *\n *  @dev Maybe make access to these functions easer. Instead of\n *       GameTurf.game.init() make it GameTurf.init(). \n */ \nvar game = {\n\n    /**\n     *  Time of last step\n     *  @type {date}\n     */\n    stepTimeThen: 0\n\n    /**\n     *  Time of step\n     *  @type {date}\n     */\n  , stepTimeNow: 0\n\n    /**\n     *  Elapsed time since last step\n     *  @type {number}\n     */\n  , stepTimeElapsed: 0\n\n    /**\n     *  \n     *  @type {number}\n     */  \n  , timestep: 1000 / 60\n\n  , maxFPS: 60\n\n    /**\n     *  is engine running\n     *  @type {bool}\n     */\n  ,  isRunning              : false\n\n  ,  fps: 60\n  ,  framesThisSecond: 0\n  ,  lastFpsUpdate: 0\n\n    /**\n     *  \n     */\n  , showStats              : false\n\n    /**\n     *  \n     */\n  , init: function(_settings) {\n\n      settings = Object.assign(\n        settings,\n        _settings\n      )\n\n      if (game.showStats) game.statsSetup()\n\n      theatre.init(settings.theatreMovesWithPlayer)\n\n      sound.init()\n\n      ui.init(theatre, function(){\n        game.run()\n      })\n\n      input.init(theatre.stageCanvas)\n\n      if (!settings.theatreMovesWithPlayer) world.draw()\n\n      window.onblur = function () {\n        game.pause()\n      }\n\n      input.onEscDown(function() {\n        if (game.isRunning) game.pause()\n        else game.run()\n      })\n    }\n\n    /**\n     *  \n     */\n  , run: function(){\n      game.isRunning = true\n      game.stepTimeElapsed = 0\n      game.stepTimeNow = 0\n      game.stepTimeThen = 0\n      ui.closeMenu()\n      sound.playBackgroundSound()\n      requestAnimationFrame(game.loop)\n    }\n\n    /**\n     *  \n     */\n  , pause: function(){\n      ui.openMenu()\n      sound.pauseBackgroundSound()\n      game.isRunning = false\n      game.stepTimeElapsed = 0\n      game.stepTimeNow = 0\n      game.stepTimeThen = 0\n    }\n\n    /**\n     *  \n     */\n  , loop: function(){\n      if (game.isRunning) {\n\n        game.stepTimeNow = new Date().getTime()\n\n\n        if (game.stepTimeThen !== 0) {\n          game.stepTimeElapsed \n            = game.stepTimeNow - game.stepTimeThen\n        }\n\n        if (game.showStats) game.stats.begin();\n\n        if (game.stepTimeElapsed  < game.lastFrameTimeMs + (1000 / game.maxFPS)) {\n            requestAnimationFrame(game.loop);\n            return;\n        }\n\n        if (game.stepTimeElapsed  > game.lastFpsUpdate + 1000) { // update every second\n          game.fps = 0.25 * game.framesThisSecond + (1 - 0.25) * game.fps; // compute the new FPS\n    \n          game.lastFpsUpdate = game.stepTimeElapsed;\n          game.framesThisSecond = 0;\n        }\n        game.framesThisSecond++;\n\n        var numUpdateSteps = 0;\n        while (game.stepTimeElapsed >= game.timestep) {\n          game.update(game.timestep)\n          game.postUpdate(game.timestep)\n          game.stepTimeElapsed -= game.timestep;\n\n          if (++numUpdateSteps >= 240) {\n            game.panic(); // fix things\n            break; // bail out\n          }\n        }\n\n        game.preDraw(game.timestep)\n        game.draw(game.timestep);\n\n        if (game.showStats) game.stats.end()\n\n        game.stepTimeThen = game.stepTimeNow \n\n        requestAnimationFrame(game.loop)\n      }\n    }\n\n  , panic: function() {\n        delta = 0; // discard the un-simulated time\n        // ... snap the player to the authoritative state\n    }\n\n  , step: function(){\n      game.update(game.timestep)\n      game.postUpdate(game.timestep)\n      game.preDraw(game.timestep)\n      game.draw(game.timestep);\n    }\n\n    /**\n     *  \n     */\n  , update: function(delta){\n      wind.update(delta)\n      worldCollisionDetection.update(delta)\n      entityCollisionDetection.update(delta)\n      entityManager.update(delta)\n      ui.update(delta);\n    }\n\n    /**\n     *  \n     */\n  , postUpdate: function(delta){\n      entityManager.postUpdate(delta)\n    }\n\n    /**\n     *  \n     */\n  , preDraw:function(delta){\n     \n      theatre.clearStage()\n      entityManager.preDraw(delta)\n      theatre.preShake()\n    }\n\n    /**\n     *  \n     */\n  , draw: function(delta){\n      entityManager.draw(delta)\n\n      if (settings.theatreMovesWithPlayer) world.draw(delta);\n\n      if (theatre.worldNeedsRedraw){\n        theatre.clearWorld()\n        world.draw(delta)\n        theatre.worldNeedsRedraw = false\n      }\n\n      worldCollisionDetection.draw(delta)\n      wind.draw(delta)\n      ui.draw(delta);\n      theatre.postShake()\n    }\n\n    /**\n     *  \n     */\n  , statsSetup: function () {\n      game.stats = new Stats()\n      game.stats.setMode(2) // 0: fps, 1: ms, 2: mb\n\n      game.stats.domElement.style.position = 'absolute'\n      game.stats.domElement.style.left = '0px'\n      game.stats.domElement.style.top = '0px'\n\n      document.body.appendChild(game.stats.domElement)\n    }\n}\n\nif (ui.datGui) {\n  var datGuiFolder = ui.datGui.addFolder(\"Game\")\n  ui.datGui.remember(game)\n  datGuiFolder.add(game, \"stepTimeThen\").listen()\n  datGuiFolder.add(game, \"stepTimeNow\").listen()\n  datGuiFolder.add(game, \"stepTimeElapsed\").listen()\n  datGuiFolder.add(game, \"timestep\").listen()\n  datGuiFolder.add(game, \"maxFPS\").listen()\n  datGuiFolder.add(game, \"isRunning\").listen()\n  datGuiFolder.add(game, \"fps\").listen()\n  datGuiFolder.add(game, \"framesThisSecond\").listen()\n  datGuiFolder.add(game, \"lastFpsUpdate\").listen()\n  datGuiFolder.add(game, \"showStats\")\n}\n\nmodule.exports = game\n\n}());\n\n},{\"../../vendors/stats.min\":24,\"./../detectors/entityCollisionDetection\":9,\"./../detectors/worldCollisionDetection\":10,\"./../managers/entityManager\":18,\"./../systems/wind\":20,\"./../systems/world\":21,\"./input\":2,\"./settings\":4,\"./sound\":5,\"./theatre\":6,\"./ui\":7}],2:[function(_dereq_,module,exports){\n/**\n * input.js\n *\n * @package gameturfjs\n */\n\n(function() {\n\n/*global require, module */\n\nvar theatre = _dereq_('./theatre')\nvar ui      = _dereq_('./ui')\n\n/**\n *  \n */ \nvar input = {\n\n    /**\n     *  \n     */ \n    keyPressed            : []\n\n    /**\n     *  \n     */ \n  , onEscDownCallbacks    : []\n\n    /**\n     *  \n     */ \n  , onEscUpCallbacks      : []\n\n    /**\n     *  \n     */ \n  , shiftPressed          : false\n\n    /**\n     *  \n     */ \n  , movementDirectionData : {\n      playerInteraction : false\n    , isRunning         : false\n    , vector            : {\n        x: 0\n      , y: 0\n    }\n  }\n\n    /**\n     *  The position the user clicked on the map/stage.\n     * \n     *  @public (get)\n     *  @type {object} \n     *  {\n     *      x {number}   \n     *    , y {number}\n     *    , new {boolean}\n     *  }\n     */ \n  , lastClickPosition : {\n      new : false\n    }\n\n    /**\n     *  \n     */\n  , recordMouseMove: false\n\n    /**\n     *  \n     */\n  , onEscDown: function(callback){\n      input.onEscDownCallbacks.push(callback)\n    }\n\n    /**\n     *  \n     */   \n  , onEscUp: function(callback){\n      input.onEscUpCallbacks.push(callback)\n    }\n\n    /**\n     *  \n     */   \n  , init: function(stageCanvas){\n      document.addEventListener('keydown', input.keydown)\n      document.addEventListener('keyup'  , input.keyup)\n\n      stageCanvas.addEventListener('mousedown', input.stageCanvasMousedownHandler, false)\n      stageCanvas.addEventListener('mousemove', input.stageCanvasMousemoveHandler, false)\n      stageCanvas.addEventListener('mouseup'  , input.stageCanvasMouseupHandler  , false)\n    }\n\n    /**\n     *  \n     */  \n  , keydown: function(event){\n\n      input.keyPressed[event.keyCode] = true\n      input.shiftPressed              = event.shiftKey\n\n      if (event.keyCode == 27){\n        for (var i = input.onEscDownCallbacks.length - 1; i >= 0; i--) {\n          input.onEscDownCallbacks[i].call()\n        }\n      }\n    }\n\n    /**\n     *  \n     */  \n  , keyup: function(event){\n\n      input.keyPressed[event.keyCode] = false\n      input.shiftPressed              = event.shiftKey\n\n      if (event.keyCode == 27){\n        for (var i = input.onEscUpCallbacks.length - 1; i >= 0; i--) {\n          input.onEscUpCallbacks[i].call()\n        }\n      }\n    }\n\n    /**\n     *  \n     */ \n  , stageCanvasMousedownHandler: function(evt) {\n      input.lastClickPosition.x   = evt.offsetX \n      input.lastClickPosition.y   = evt.offsetY\n      input.lastClickPosition.new = true\n      theatre.adjustPositionToStage(input.lastClickPosition)\n      input.recordMouseMove = true\n    }\n\n    /**\n     *  \n     */ \n  , stageCanvasMousemoveHandler: function(evt){\n      if (input.recordMouseMove) {\n        input.lastClickPosition.x   = evt.offsetX \n        input.lastClickPosition.y   = evt.offsetY\n        input.lastClickPosition.new = true\n        theatre.adjustPositionToStage(input.lastClickPosition)\n      }\n    }\n\n    /**\n     *  \n     */ \n  , stageCanvasMouseupHandler: function(evt) {\n      input.recordMouseMove = false\n    }\n\n    /**\n     *  \n     */ \n  , getPlayerMovementDirection: function(){\n\n      input.movementDirectionData.vector.x          = 0\n      input.movementDirectionData.vector.y          = 0\n      input.movementDirectionData.playerInteraction = false\n      input.movementDirectionData.isRunning         = input.shiftPressed\n\n      if (input.keyPressed[37]  // left\n        || input.keyPressed[65]){ // a\n        input.movementDirectionData.vector.x -= 1\n        input.movementDirectionData.playerInteraction = true\n      }\n\n      if (input.keyPressed[38]   // up\n        || input.keyPressed[87]){ // w\n        input.movementDirectionData.vector.y -= 1\n        input.movementDirectionData.playerInteraction = true\n      }\n\n      if (input.keyPressed[39]   // right\n        || input.keyPressed[68]){ // d\n\n        input.movementDirectionData.vector.x += 1\n        input.movementDirectionData.playerInteraction = true\n      }\n\n      if (input.keyPressed[40]   // down\n        || input.keyPressed[83]){ // s\n        input.movementDirectionData.vector.y += 1\n        input.movementDirectionData.playerInteraction = true\n      }\n\n      return input.movementDirectionData\n    }\n}\n\nif (ui.datGui) {\n  var datGuiFolder = ui.datGui.addFolder(\"Input\")\n  ui.datGui.remember(input)\n  datGuiFolder.add(input, \"shiftPressed\").listen()\n  datGuiFolder.add(input.movementDirectionData, \"playerInteraction\").listen()\n  datGuiFolder.add(input.movementDirectionData, \"isRunning\").listen()\n  datGuiFolder.add(input.movementDirectionData.vector, \"x\").listen()\n  datGuiFolder.add(input.movementDirectionData.vector, \"y\").listen()\n}\n\nmodule.exports = input\n\n}());\n\n},{\"./theatre\":6,\"./ui\":7}],3:[function(_dereq_,module,exports){\n/**\n * math.js\n *\n * @package gameturfjs\n */\n\n(function() {\n\n/*global module */\n  \n/**\n *  \n */ \nvar math = {\n    \n    /**\n     *  Subtracts a 2-dimensional vector from another vector.\n     */\n    vectorSubtract: function (vector1, vector2) {\n      return {\n        x: vector1.x - vector2.x\n      , y: vector1.y - vector2.y\n      }\n    }\n}\n\nmodule.exports =  math\n\n}());\n\n},{}],4:[function(_dereq_,module,exports){\n/**\n * settings.js\n *\n * @package gameturfjs\n */\n\n(function() {\n\n/*global module */\n\n/**\n *  \n */ \nmodule.exports = {\n\n    /**\n     *  \n     */ \n    tileSize              : 50\n\n    /**\n     *  \n     */ \n  , datGuiIsOn            : true\n\n    /**\n     *  \n     */ \n  , physicsDebugMode      : false\n\n    /**\n     *  \n     */ \n  , debugWorldCollisions  : false\n\n    /**\n     *  \n     */ \n  , soundEngineOn         : true\n\n    /**\n     *  \n     */ \n  , allowBackgroundMusic : false\n\n    /**\n     *  \n     */ \n  , effectMusicVolume     : .2\n\n    /**\n     *  \n     */\n  , theatreMovesWithPlayer : true\n\n    /**\n     *  \n     */\n  , effects : []\n\n    /**\n     *  \n     */\n  , backgroundSong: {\n      src: undefined,\n      volume: 1\n    }\n}\n\n}());\n\n},{}],5:[function(_dereq_,module,exports){\n/**\n * sound.js\n *\n * @package gameturfjs\n */\n\n(function() {\n\n/*global require, module */\n\nvar Howl = _dereq_('../../vendors/howler.min')\nvar settings = _dereq_('./settings')\nvar Howl = Howl.Howl;\n\n/**\n *  \n */ \nvar sound = {\n\n    /**\n     *  \n     */ \n    effects               : {}\n\n    /**\n     *  \n     */ \n  , backgroundSong        : undefined\n\n    /**\n     *  \n     */ \n  , init: function(){\n\n      if (settings.soundEngineOn) {\n\n        if (settings.effects) {\n          settings.effects.forEach(function(effect){\n            sound.addEffect(effect.id, effect.src , effect.volume)\n          })\n        }\n\n        if (settings.allowBackgroundMusic\n         && settings.backgroundSong.src) {\n         \n          sound.backgroundSong = new Howl({\n              src   : [settings.backgroundSong.src]\n            , loop  : true\n            , volume: settings.backgroundSong.volume\n          })\n        }\n      }\n    }\n\n    /**\n     *  \n     */ \n  , addEffect: function(name, file, volume){\n      sound.effects[name] = sound.createEffect(\n          file\n        , volume * settings.effectMusicVolume)\n    }\n\n    /**\n     *  \n     */ \n  , createEffect: function(file, volume){\n\n      var effect = {\n          isPlaying : false\n        , howl      : new Howl({\n            src   : [file]\n          , volume: volume\n          , onend : function(){\n              effect.isPlaying = false\n            }\n          })\n        , play: function(onlyIfNotPlaying){\n\n            if(onlyIfNotPlaying && effect.isPlaying) {\n              return\n            }\n\n            effect.isPlaying = true\n            effect.howl.play()\n          }\n        }\n\n      return effect\n    }\n\n    /**\n     *  \n     */ \n  , playEffect: function(name, onlyIfNotPlaying){\n      if (settings.soundEngineOn) {\n        var effect = sound.effects[name]\n        if (effect) {\n          effect.play(onlyIfNotPlaying)\n        }\n      }\n    }\n\n    /**\n     *  \n     */ \n  , playBackgroundSound: function(){\n      if (settings.allowBackgroundMusic) {\n        sound.backgroundSong.play()\n      }\n    }\n\n    /**\n     *  \n     */ \n  , pauseBackgroundSound: function(){\n      if (settings.allowBackgroundMusic) {\n        sound.backgroundSong.pause()\n      }\n    }\n}\n\nmodule.exports = sound\n\n}());\n\n},{\"../../vendors/howler.min\":23,\"./settings\":4}],6:[function(_dereq_,module,exports){\n/**\n * theatre.js\n *\n * @package gameturfjs\n */\n\n(function() {\n\n/*global require, module */\n\nvar ui = _dereq_('./ui')\n\n/**\n *  \n */ \nvar theatre = {\n\n    stageCanvas          : undefined\n  , stage                : undefined\n\n  , gridCanvas           : undefined\n  , grid                 : undefined\n\n  , backdropCanvas       : undefined\n  , backdrop             : undefined\n\n  , foregroundCanvas     : undefined\n  , foreground           : undefined\n\n  , scale                : 2\n\n  , canvasBoxLeft        : 0\n  , canvasBoxTop         : 0\n  , canvasBoxRight       : 0\n  , canvasBoxBottom      : 0\n\n  , shakeDuration        : 50\n  , shakeStartTime       : -1\n  , allowScreenShake     : false\n  , screenShakeMagnitude : 5\n\n  , useResolutionDivider : false\n  , resolutionDivider    : 2\n  , movesWithPlayer      : false\n\n  , currentTranslateX    : 0\n  , currentTranslateY    : 0\n\n  , worldNeedsRedraw     : true\n\n  , canvasHeight         : window.innerHeight\n  , canvasWidth          : window.innerWidth\n\n    /**\n     *  \n     */ \n  , init: function(movesWithPlayer){\n\n      theatre.movesWithPlayer = movesWithPlayer\n\n      theatre.stageCanvas     = document.getElementById('Stage')\n      theatre.stage           = theatre.stageCanvas.getContext('2d')\n\n      theatre.gridCanvas      = document.getElementById('Grid')\n      theatre.grid            = theatre.gridCanvas.getContext('2d')\n\n      theatre.backdropCanvas  = document.getElementById('Backdrop')\n      theatre.backdrop        = theatre.backdropCanvas.getContext('2d')\n\n      theatre.foregroundCanvas  = document.getElementById('Foreground')\n      theatre.foreground        = theatre.foregroundCanvas.getContext('2d')\n\n      theatre.waterCanvas              = document.getElementById('Water-Container')\n      theatre.waterCanvas.style.width  = theatre.canvasWidth  + \"px\"\n      theatre.waterCanvas.style.height = theatre.canvasHeight + \"px\"\n\n      theatre.resize()\n      \n      window.addEventListener('resize', theatre.resize, false)\n    }\n\n    /**\n     *  \n     */ \n  , resize: function(){\n      theatre.setSize(theatre.stageCanvas)\n      theatre.setSize(theatre.gridCanvas)\n      theatre.setSize(theatre.backdropCanvas)\n      theatre.setSize(theatre.foregroundCanvas)\n    }\n\n    /**\n     *  \n     */ \n  , setSize: function(canvas){\n\n      if (theatre.useResolutionDivider) {\n\n        canvas.className += \" scaleCanvas\"\n        canvas.width      = theatre.canvasWidth / theatre.resolutionDivider\n        canvas.height     = theatre.canvasHeight  / theatre.resolutionDivider\n        canvas.style.transformOrigin = \"0% 0%\"\n        canvas.style.transform \n          = \"scale(\" + theatre.resolutionDivider + \", \" + theatre.resolutionDivider + \")\"\n\n      } else {\n\n        canvas.width  = theatre.canvasWidth\n        canvas.height = theatre.canvasHeight\n\n        theatre.canvasBoxLeft   = 0\n        theatre.canvasBoxTop    = 0\n        theatre.canvasBoxBottom = theatre.canvasHeight\n        theatre.canvasBoxRight  = theatre.canvasWidth\n      }\n    }\n\n    /**\n     *  \n     */ \n  , setScale: function(){\n      theatre.stage.scale(theatre.scale,theatre.scale)\n      theatre.grid.scale(theatre.scale,theatre.scale)\n      theatre.backdrop.scale(theatre.scale,theatre.scale)\n      theatre.foreground.scale(theatre.scale,theatre.scale)\n    }\n\n    /**\n     *  \n     */ \n  , clearStage: function(){\n\n      if (theatre.movesWithPlayer) {\n        //theatre.stage.save()\n        //theatre.backdrop.save()\n\n        //theatre.stage.setTransform(1,0,0,1,0,0)\n        //theatre.backdrop.setTransform(1,0,0,1,0,0)\n      }\n\n      theatre.stage.clearRect(\n        theatre.canvasBoxLeft* theatre.scale\n      , theatre.canvasBoxTop* theatre.scale\n      , theatre.canvasWidth* theatre.scale\n      , theatre.canvasHeight* theatre.scale)\n      \n      if (theatre.movesWithPlayer) {\n\n        theatre.backdrop.clearRect(\n          theatre.canvasBoxLeft* theatre.scale\n        , theatre.canvasBoxTop* theatre.scale\n        ,  theatre.canvasWidth* theatre.scale\n        , theatre.canvasHeight* theatre.scale)\n\n        theatre.foreground.clearRect(\n          theatre.canvasBoxLeft* theatre.scale\n        , theatre.canvasBoxTop* theatre.scale\n        ,  theatre.canvasWidth* theatre.scale\n        , theatre.canvasHeight* theatre.scale)\n\n        //theatre.stage.restore()\n        //theatre.backdrop.restore()\n      }\n    }\n\n    /**\n     *  \n     */ \n  , clearWorld: function(){\n      theatre.backdrop.clearRect(\n        theatre.canvasBoxLeft* theatre.scale\n      , theatre.canvasBoxTop* theatre.scale\n      , theatre.canvasBoxRight* theatre.scale\n      , theatre.canvasBoxBottom* theatre.scale)\n\n      theatre.foreground.clearRect(\n        theatre.canvasBoxLeft* theatre.scale\n      , theatre.canvasBoxTop* theatre.scale\n      , theatre.canvasBoxRight* theatre.scale\n      , theatre.canvasBoxBottom* theatre.scale)\n    }\n\n    /**\n     *  \n     */ \n  , clearGrid: function(){\n      theatre.grid.clearRect(\n        0\n      , 0\n      , theatre.gridCanvas.width\n      , theatre.gridCanvas.height)\n    }\n\n    /**\n     *  \n     */ \n  , drawGrids: function() {\n      theatre.clearGrid()\n      theatre.drawGrid(0.5, 10, \"gray\")\n      theatre.drawGrid(1, 100, \"black\")\n    }\n\n    /**\n     *  \n     */ \n  , preShake: function () {\n      if (theatre.allowScreenShake) {\n        if (theatre.shakeStartTime == -1) {\n          return;\n        }\n\n        var dt = Date.now() - theatre.shakeStartTime\n\n        if (dt > theatre.shakeDuration) {\n            theatre.shakeStartTime = -1\n            return;\n        }\n\n        theatre.stage.save()\n        theatre.backdrop.save()\n        theatre.foreground.save()\n\n        var dx = (Math.random() * theatre.screenShakeMagnitude) * theatre.scale\n        var dy = (Math.random() * theatre.screenShakeMagnitude) * theatre.scale\n        theatre.stage.translate(dx, dy)\n        theatre.backdrop.translate(dx, dy)\n        theatre.foreground.translate(dx, dy)\n      }\n    }\n\n    /**\n     *  \n     */ \n  , postShake: function() {\n      if(theatre.allowScreenShake) {\n        if (theatre.shakeStartTime ==-1) {\n          return;\n        }\n        theatre.stage.restore()\n        theatre.backdrop.restore()\n        theatre.foreground.restore()\n      }\n    }\n\n    /**\n     *  \n     */ \n  , startShake: function () {\n      if (theatre.allowScreenShake) {\n        theatre.shakeStartTime = Date.now()\n      }\n    }\n\n    /**\n     *  \n     */ \n  , playerUpdate: function(physics){\n      if (theatre.movesWithPlayer){\n\n        var widthHalf  = theatre.canvasWidth / 2;\n        var heightHalf = theatre.canvasHeight / 2;\n   \n        var playerX = physics.position.x * theatre.scale;\n        var playerY = physics.position.y * theatre.scale;\n\n        var posX = playerX - widthHalf;\n        var posY = playerY - heightHalf;\n\n        theatre.stage.setTransform(1, 0, 0, 1, posX*-1, posY*-1);\n        theatre.backdrop.setTransform(1, 0, 0, 1, posX*-1, posY*-1);\n        theatre.foreground.setTransform(1, 0, 0, 1, posX*-1, posY*-1);\n\n        theatre.canvasBoxLeft   = physics.position.x - (widthHalf/theatre.scale);\n        theatre.canvasBoxRight  = physics.position.x + (widthHalf/theatre.scale);\n        theatre.canvasBoxTop    = physics.position.y - (heightHalf/theatre.scale);\n        theatre.canvasBoxBottom = physics.position.y + (heightHalf/theatre.scale);\n        \n        theatre.worldNeedsRedraw = true;\n      \n      } else {\n\n        if ((physics.position.x * theatre.scale) < theatre.canvasBoxLeft) {\n          \n          theatre.currentTranslateX  += theatre.canvasWidth\n          theatre.stage.setTransform(1,0,0,1, theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.backdrop.setTransform(1,0,0,1,theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.foreground.setTransform(1,0,0,1,theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.canvasBoxLeft   -= theatre.canvasWidth\n          theatre.canvasBoxRight  -= theatre.canvasWidth\n          theatre.worldNeedsRedraw = true\n          // translate left\n        \n        } else if ((physics.position.x * theatre.scale) > theatre.canvasBoxRight){\n          \n          // translate right\n          theatre.currentTranslateX  -= theatre.canvasWidth\n          theatre.stage.setTransform(1,0,0,1, theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.backdrop.setTransform(1,0,0,1,theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.foreground.setTransform(1,0,0,1,theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.canvasBoxLeft   += theatre.canvasWidth\n          theatre.canvasBoxRight  += theatre.canvasWidth\n          theatre.worldNeedsRedraw = true\n\n        } else if ((physics.position.y * theatre.scale) < theatre.canvasBoxTop){\n          \n          // translate top\n          theatre.currentTranslateY  += theatre.canvasHeight\n          theatre.stage.setTransform(1,0,0,1, theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.backdrop.setTransform(1,0,0,1,theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.foreground.setTransform(1,0,0,1,theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.canvasBoxTop    -= theatre.canvasHeight\n          theatre.canvasBoxBottom -= theatre.canvasHeight\n          theatre.worldNeedsRedraw = true\n\n        } else if ((physics.position.y * theatre.scale) > theatre.canvasBoxBottom){\n          \n          // translate bottom\n          theatre.currentTranslateY  -= theatre.canvasHeight\n          theatre.stage.setTransform(1,0,0,1, theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.backdrop.setTransform(1,0,0,1,theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.foreground.setTransform(1,0,0,1,theatre.currentTranslateX, theatre.currentTranslateY)\n          theatre.canvasBoxTop    += theatre.canvasHeight\n          theatre.canvasBoxBottom += theatre.canvasHeight\n          theatre.worldNeedsRedraw = true\n        }\n      }\n    }\n\n    /**\n     *  \n     */ \n  , drawGrid: function(lineWidth, gap, color){\n\n      gap *= theatre.scale\n\n      var width  = theatre.gridCanvas.width * theatre.scale\n      var height = theatre.gridCanvas.height * theatre.scale\n\n      theatre.grid.beginPath()\n\n      for (var x = 0; x <= width; x += gap) {\n          theatre.grid.moveTo(x, 0)\n          theatre.grid.lineTo(x, height)\n      }\n\n      for (var y = 0; y <= height;  y += gap) {\n          theatre.grid.moveTo(0, y)\n          theatre.grid.lineTo(width, y)\n      }\n\n      theatre.grid.strokeStyle = color\n      theatre.grid.lineWidth   = lineWidth * theatre.scale\n      theatre.grid.stroke()\n    }\n\n    /**\n     *  \n     */ \n  , drawTriangleFromCenter: function(canvas, physics, color){\n\n      if (theatre.isOutsideOfCanvas(\n            (physics.position.x + physics.halfWidth)\n          , (physics.position.x - physics.halfWidth) \n          , (physics.position.y - physics.halfHeight) \n          , (physics.position.y + physics.halfHeight))){\n        return;\n      }\n\n      theatre[canvas].beginPath()\n      theatre[canvas].moveTo(\n        Math.floor(physics.position.x) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale)\n      theatre[canvas].lineTo(\n        Math.floor(physics.position.x - physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y + physics.halfHeight) * theatre.scale)\n      theatre[canvas].lineTo(\n        Math.floor(physics.position.x + physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y + physics.halfHeight) * theatre.scale)\n      theatre[canvas].lineTo(\n        Math.floor(physics.position.x) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale)\n\n      theatre[canvas].fillStyle = color\n      theatre[canvas].fill()\n    }\n  \n    /**\n     *  \n     */ \n  , drawTriangleFromCenterUpsideDown: function(canvas, physics, color){\n\n      if (theatre.isOutsideOfCanvas(\n            (physics.position.x + physics.halfWidth) \n          , (physics.position.x - physics.halfWidth) \n          , (physics.position.y - physics.halfHeight) \n          , (physics.position.y + physics.halfHeight))){\n        return;\n      }\n\n      theatre[canvas].beginPath()\n\n      theatre[canvas].moveTo(\n        Math.floor(physics.position.x) * theatre.scale\n      , Math.floor(physics.position.y + physics.halfHeight) * theatre.scale)\n      theatre[canvas].lineTo(\n        Math.floor(physics.position.x - physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale)\n      theatre[canvas].lineTo(\n        Math.floor(physics.position.x + physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale)\n      theatre[canvas].lineTo(\n        Math.floor(physics.position.x) * theatre.scale\n      , Math.floor(physics.position.y + physics.halfHeight) * theatre.scale)\n\n      theatre[canvas].fillStyle = color\n      theatre[canvas].fill()\n    }\n  \n    /**\n     *  \n     */ \n  , drawSquareFromCenter: function(canvas, physics, color){\n\n      if (theatre.isOutsideOfCanvas(\n            (physics.position.x + physics.halfWidth) \n          , (physics.position.x - physics.halfWidth) \n          , (physics.position.y - physics.halfHeight) \n          , (physics.position.y + physics.halfHeight))){\n        return;\n      }\n\n      theatre[canvas].fillStyle = color\n      theatre[canvas].fillRect(\n        Math.floor(physics.position.x - physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale\n      , physics.width * theatre.scale\n      , physics.height * theatre.scale)\n    }\n  \n    /**\n     *  \n     */ \n    , drawCurvedSquareFromCenter: function(canvas, physics, color, offset){\n\n      if (theatre.isOutsideOfCanvas(\n            (physics.position.x + physics.halfWidth) \n          , (physics.position.x - physics.halfWidth) \n          , (physics.position.y - physics.halfHeight) \n          , (physics.position.y + physics.halfHeight))){\n        return;\n      }\n\n      theatre[canvas].fillStyle = color\n\n      theatre[canvas].beginPath()\n      theatre[canvas].moveTo(\n        Math.floor(physics.position.x - physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale\n      )\n      theatre[canvas].quadraticCurveTo(\n        physics.position.x * theatre.scale\n      , Math.floor(physics.position.y - physics.halfWidth - offset) * theatre.scale\n      , Math.floor(physics.position.x + physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale);\n\n      theatre[canvas].quadraticCurveTo(\n        Math.floor(physics.position.x + physics.halfWidth + offset) * theatre.scale\n      , physics.position.y * theatre.scale\n      , Math.floor(physics.position.x + physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y + physics.halfHeight) * theatre.scale);\n\n      theatre[canvas].quadraticCurveTo(\n        physics.position.x * theatre.scale\n      , Math.floor(physics.position.y + physics.halfWidth + offset) * theatre.scale\n      , Math.floor(physics.position.x - physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y + physics.halfHeight) * theatre.scale);\n\n      theatre[canvas].quadraticCurveTo(\n        Math.floor(physics.position.x - physics.halfWidth - offset) * theatre.scale\n      , physics.position.y * theatre.scale\n      , Math.floor(physics.position.x - physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale);\n\n      theatre[canvas].fill() \n    }\n\n    /**\n     *  \n     */ \n    , drawBezierCurvedSquareFromCenter: function(canvas, physics, color, offset, divider){\n\n      if (theatre.isOutsideOfCanvas(\n            (physics.position.x + physics.halfWidth) \n          , (physics.position.x - physics.halfWidth) \n          , (physics.position.y - physics.halfHeight) \n          , (physics.position.y + physics.halfHeight))){\n        return;\n      }\n\n      theatre[canvas].fillStyle = color\n\n      theatre[canvas].beginPath()\n      theatre[canvas].moveTo(\n        Math.floor(physics.position.x - physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale\n      )\n      theatre[canvas].bezierCurveTo(\n        Math.floor(physics.position.x - (physics.halfWidth/divider)) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight - offset) * theatre.scale\n\n      , Math.floor(physics.position.x + (physics.halfWidth/divider)) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight - offset) * theatre.scale\n\n      , Math.floor(physics.position.x + physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale);\n\n      theatre[canvas].bezierCurveTo(\n        Math.floor(physics.position.x + physics.halfWidth + offset) * theatre.scale\n      , Math.floor(physics.position.y - (physics.halfHeight/divider)) * theatre.scale\n\n      , Math.floor(physics.position.x + physics.halfWidth + offset) * theatre.scale\n      , Math.floor(physics.position.y + (physics.halfHeight/divider)) * theatre.scale\n\n      , Math.floor(physics.position.x + physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y + physics.halfHeight) * theatre.scale);\n\n      theatre[canvas].bezierCurveTo(\n        Math.floor(physics.position.x + (physics.halfWidth/divider)) * theatre.scale\n      , Math.floor(physics.position.y + physics.halfHeight + offset) * theatre.scale\n    \n      , Math.floor(physics.position.x - (physics.halfWidth/divider)) * theatre.scale\n      , Math.floor(physics.position.y + physics.halfHeight + offset) * theatre.scale\n\n      , Math.floor(physics.position.x - physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y + physics.halfHeight) * theatre.scale);\n\n      theatre[canvas].bezierCurveTo(\n        Math.floor(physics.position.x - physics.halfWidth - offset) * theatre.scale\n      , Math.floor(physics.position.y + (physics.halfHeight/divider)) * theatre.scale\n\n      , Math.floor(physics.position.x - physics.halfWidth - offset) * theatre.scale\n      , Math.floor(physics.position.y - (physics.halfHeight/divider)) * theatre.scale\n\n      , Math.floor(physics.position.x - physics.halfWidth) * theatre.scale\n      , Math.floor(physics.position.y - physics.halfHeight) * theatre.scale);\n\n      theatre[canvas].fill() \n    }\n    /**\n     *  \n     */ \n  , drawSquareFromLeftTopCorner: function(canvas, position, size, color){\n\n      if (theatre.isOutsideOfCanvas(\n            (position.x + size) \n          , position.x \n          , position.y \n          , (position.y + size) )){\n        return;\n      }\n\n      theatre[canvas].fillStyle = color\n      theatre[canvas].fillRect(\n        Math.floor(position.x) * theatre.scale\n      , Math.floor(position.y) * theatre.scale\n      , size * theatre.scale\n      , size * theatre.scale)\n    }\n  \n    /**\n     *  \n     */ \n  , drawCircle: function(canvas, physics, color){\n\n      if (theatre.isOutsideOfCanvas(\n            (physics.position.x + physics.halfWidth)\n          , (physics.position.x - physics.halfWidth) \n          , (physics.position.y - physics.halfHeight) \n          , (physics.position.y + physics.halfHeight))){\n        return;\n      }\n\n      theatre[canvas].beginPath()\n      theatre[canvas].arc(\n        Math.floor(physics.position.x) * theatre.scale\n      , Math.floor(physics.position.y) * theatre.scale\n      , physics.halfWidth * theatre.scale\n      , 0\n      , 2 * Math.PI\n      , false)\n\n      theatre[canvas].fillStyle = color\n      theatre[canvas].fill()\n    }\n  \n    /**\n     *  \n     */ \n  , drawLine: function(canvas, position, width, color){\n      theatre[canvas].beginPath()\n      theatre[canvas].strokeStyle = color\n      theatre[canvas].lineWidth = 1 * theatre.scale\n      theatre[canvas].moveTo(\n        Math.floor(position.x) * theatre.scale\n      , Math.floor(position.y) * theatre.scale)\n      theatre[canvas].lineTo(\n        Math.floor(position.x + width) * theatre.scale\n      , Math.floor(position.y) * theatre.scale)\n      theatre[canvas].stroke()\n    }\n  \n    /**\n     *  \n     */ \n  , drawLineWithVector: function(canvas, physics, vector, color){\n        theatre[canvas].beginPath()\n        theatre[canvas].strokeStyle = color\n        theatre[canvas].lineWidth   = 1 * theatre.scale\n        theatre[canvas].moveTo(\n          Math.floor(physics.position.x) * theatre.scale\n        , Math.floor(physics.position.y) * theatre.scale)\n        theatre[canvas].lineTo(\n          Math.floor(physics.position.x + vector.x) * theatre.scale\n        , Math.floor(physics.position.y + vector.y) * theatre.scale)\n        theatre[canvas].stroke()\n    }\n  \n    /**\n     *  \n     */ \n  , drawPath: function(canvas, linePositions, startIndex, color, lineWidth, maxLength, physics){\n\n      var positionForLine = linePositions[startIndex]\n\n      if (positionForLine != undefined) {\n\n        theatre[canvas].beginPath()\n        theatre[canvas].strokeStyle = color\n        theatre[canvas].lineWidth   = Math.floor(lineWidth) * theatre.scale\n\n        theatre[canvas].moveTo(\n          Math.floor(positionForLine.x) * theatre.scale\n        , Math.floor(positionForLine.y) * theatre.scale)\n\n        for (var i = 0, positionIndex = startIndex; i < maxLength; i++) {\n          positionForLine = linePositions[positionIndex]\n\n          if (positionForLine == undefined){\n            continue\n          }\n\n          theatre[canvas].lineTo(\n            Math.floor(positionForLine.x) * theatre.scale\n          , Math.floor(positionForLine.y) * theatre.scale)\n\n          positionIndex = (positionIndex + 1) % maxLength\n        }\n\n        if (physics){\n          theatre[canvas].lineTo(\n            Math.floor(physics.position.x) * theatre.scale\n          , Math.floor(physics.position.y) * theatre.scale)\n        }\n\n        theatre[canvas].stroke()\n      }\n    }\n  \n    /**\n     *  \n     */ \n  , drawMultipleLines: function(canvas, lines, color){\n      theatre[canvas].beginPath()\n      theatre[canvas].strokeStyle = color\n\n      for (var i = lines.length - 1; i >= 0; i--) {\n\n        theatre[canvas].moveTo(\n          Math.floor(lines[i].lineStartX) * theatre.scale\n        , Math.floor(lines[i].lineStartY) * theatre.scale)\n\n        theatre[canvas].lineTo(\n          Math.floor(lines[i].lineEndX) * theatre.scale\n        , Math.floor(lines[i].lineEndY) * theatre.scale)\n      }\n\n      theatre[canvas].stroke()\n    }\n  \n    /**\n     *  \n     */ \n  , isOutsideOfCanvas: function(right, left, top, bottom){\n      return !(theatre.canvasBoxLeft   < right\n            && theatre.canvasBoxRight  > left\n            && theatre.canvasBoxTop    < bottom\n            && theatre.canvasBoxBottom > top)\n    }\n\n    /**\n     *  This will adjust the position on the canvas to the position of\n     *  the game stage coordinates. \n     *\n     *  @param position {object}   - the position on the canvas\n     *  {\n     *      x {number}  - x position on canvas 0 - 400\n     *    , y {number}  - y position on canvas 0 - 400\n     *  }\n     */\n  , adjustPositionToStage: function(position){\n      position.x = (theatre.canvasBoxLeft + (position.x/theatre.scale))\n      position.y = (theatre.canvasBoxTop + (position.y/theatre.scale)) \n      return position;\n  } \n}\n\nif (ui.datGui) {\n  var datGuiFolder = ui.datGui.addFolder(\"theatre\")\n  datGuiFolder.add(theatre, \"canvasBoxLeft\").listen();   \n  datGuiFolder.add(theatre, \"canvasBoxTop\").listen();            \n  datGuiFolder.add(theatre, \"canvasBoxRight\").listen();          \n  datGuiFolder.add(theatre, \"canvasBoxBottom\").listen();         \n  datGuiFolder.add(theatre, \"useResolutionDivider\")\n  datGuiFolder.add(theatre, \"resolutionDivider\").listen();       \n  datGuiFolder.add(theatre, \"movesWithPlayer\").listen(); \n  datGuiFolder.add(theatre, \"currentTranslateX\").listen();       \n  datGuiFolder.add(theatre, \"currentTranslateY\").listen();       \n  datGuiFolder.add(theatre, \"worldNeedsRedraw\").listen();        \n  datGuiFolder.add(theatre, \"canvasHeight\").listen();            \n  datGuiFolder.add(theatre, \"canvasWidth\").listen();       \n  datGuiFolder.add(theatre, \"allowScreenShake\")\n  datGuiFolder.add(theatre, \"screenShakeMagnitude\")\n  datGuiFolder.add(theatre, \"shakeDuration\")\n  datGuiFolder.add(theatre, \"startShake\")\n  datGuiFolder.add(theatre, \"drawGrids\")\n  datGuiFolder.add(theatre, \"clearGrid\")\n  datGuiFolder.add(theatre, \"scale\")\n  datGuiFolder.add(theatre, \"setScale\")\n}\n\nmodule.exports = theatre\n\n}());\n\n},{\"./ui\":7}],7:[function(_dereq_,module,exports){\n/**\n * ui.js\n *\n * @package gameturfjs\n */\n\n(function() {\n\n/*global window, require, module */\n\nvar settings  = _dereq_('./settings')\n\n/**\n *  \n */ \nvar ui = {\n\n  /**\n   *  \n   */ \n  menu  : document.getElementById(\"Menu\")\n\n, theatre: undefined\n\n  /**\n   *  \n   */ \n, continueBtn  : document.getElementById(\"continue\")\n\n, bubbleList: []\n\n  /**\n   *  \n   */ \n, datGui: settings.datGuiIsOn && window.dat ? new window.dat.GUI() : undefined    \n\n, init: function(theatre, continueGameCallback){\n\n    ui.theatre = theatre\n\n    ui.output              = document.getElementById('output');\n    ui.output.style.width  = ui.theatre.canvasWidth  + \"px\";\n    ui.output.style.height = ui.theatre.canvasHeight + \"px\";\n    ui.output.style.position = 'absolute';\n    ui.output.style.left = 0;\n    ui.output.style.top = 0;\n    ui.output.style.pointerEvents = \"none\";\n    ui.output.style.zIndex = 1000;\n\n    ui.continueBtn.addEventListener('click', function(){\n      continueGameCallback();\n    })\n  }\n\n, update: function(timeElapsed) {\n\n\n\n  ui.bubbleList.forEach(function(bubble) {\n\n    bubble.time -= timeElapsed;\n\n    if (bubble.time <= 0) {\n      bubble.element.remove();\n      bubble.death = true;\n    } else {\n      ui.setBubblePosition(bubble.element, bubble.physics);\n    }\n  })\n\n  ui.bubbleList = ui.bubbleList.filter(function (bubble) {\n    return !bubble.death;\n  });\n}\n\n, draw: function(timeElapsed) {\n  \n}\n\n  /**\n   *  \n   */ \n, openMenu: function(){\n    ui.menu.className = \"\"\n  }\n\n  /**\n   *  \n   */ \n, closeMenu: function(){\n    ui.menu.className = \"hide\"\n  }\n\n, setBubblePosition: function (element, physics) {\n  if (ui.theatre.useResolutionDivider) {\n    element.style.top = (((ui.theatre.canvasBoxTop*ui.theatre.resolutionDivider)*-1) + (physics.position.y*ui.theatre.resolutionDivider) -(80)) + \"px\"\n    element.style.left = ((((ui.theatre.canvasBoxLeft*ui.theatre.resolutionDivider)*-1) + (physics.position.x*ui.theatre.resolutionDivider)) -(100)) + \"px\"\n  } else {\n    element.style.top = ((ui.theatre.canvasBoxTop*-1) + (physics.position.y)) *  ui.theatre.scale  -80 + \"px\"\n    element.style.left = (((ui.theatre.canvasBoxLeft*-1) + physics.position.x)) * ui.theatre.scale -100+ \"px\"\n  }\n\n}\n, showBubble: function (physics, text, time) {\n\n    var element = document.createElement(\"div\");\n    element.innerHTML = text;\n    element.style.position = \"absolute\"\n    element.classList = \"bubble\";\n    element.style.height = \"60px\";\n    element.style.lineHeight = \"60px\";\n    element.style.width = \"200px\";\n    element.style.backgroundColor = \"rgba(255,255,255,.3)\"\n    element.style.textAlign = \"center\";\n    element.style.borderRadius = \"10px\"\n    ui.setBubblePosition(element, physics)\n    ui.output.appendChild(element)\n\n    ui.bubbleList.push({\n      physics:physics\n    , death: false\n    , text: text\n    , time: time\n    , element: element\n    })\n  }\n}\n\nmodule.exports = ui\n\n}());\n\n},{\"./settings\":4}],8:[function(_dereq_,module,exports){\n/**\n * util.js\n *\n * @package gameturfjs\n */\n\n(function() {\n\n/*global module */\n\n/**\n *  \n */ \nvar util = {\n\n    /**\n     *  \n     */ \n    vectorToDegree: function(vector) {\n      return util.vectorToRadiant(vector) * 180 / Math.PI\n    }\n\n    /**\n     *  \n     */ \n  , vectorToRadiant: function(vector) {\n      return Math.atan2(vector.x, vector.y)\n    }\n\n    /**\n     *  \n     */ \n  , vectorLength: function(vector){\n      return Math.sqrt(Math.pow(vector.x, 2) + Math.pow(vector.y, 2))\n    }\n\n    /**\n     *  \n     */ \n  , vectorDistanz: function (vector1, vector2) {\n    return Math.sqrt(Math.pow(vector2.x - vector1.x, 2) + Math.pow(vector2.y - vector1.y, 2))\n  }\n\n    /**\n     *  \n     */ \n  , scaleVectorBy: function(vector, value){\n      return util.shrinkVectorToLength(vector, util.vectorLength(vector) * value)\n    }\n\n    /**\n     *  \n     */ \n  , shrinkVectorToLength: function(vector, newLength){\n      vector    = util.setVectorToLengthOne(vector)\n      vector.x *= newLength\n      vector.y *= newLength\n      return vector\n    }\n\n    /**\n     *  \n     */ \n  , getVectorAngleDegree: function(vector1, vector2){\n      return Math.atan2(vector2.x - vector1.x, vector2.y - vector1.y) * 180 / Math.PI\n    }\n\n    /**\n     *  \n     */ \n  , setVectorToLengthOne: function(vector){\n      if (util.vectorLength(vector) > 0) {\n\n        var moveRadiant = util.vectorToRadiant(vector)\n\n        vector.x = Math.sin(moveRadiant)\n        vector.y = Math.cos(moveRadiant)\n      }\n\n      return vector\n    }\n\n    /**\n     *  \n     */ \n  , getPositionByDegree: function(position, degree, radius){\n      degree = degree * Math.PI / 180\n      return {\n        x: Math.round(radius * Math.sin(degree)) + position.x\n      , y: Math.round(radius * Math.cos(degree)) + position.y\n     }\n  }\n}\n\nmodule.exports = util\n\n}());\n\n},{}],9:[function(_dereq_,module,exports){\n/**\n * entityCollisionDetection.js\n *\n * @package gameturfjs\n */\n\n(function() {\n\n/*global require, module */\n\nvar entityManager = _dereq_('./../managers/entityManager')\n\n/**\n *  \n */ \nvar entityCollisionDetection = {\n\n  /**\n   *  \n   */ \n  add: function(entity){\n    entity.entityCollisions = []\n  }\n\n  /**\n   *  \n   */ \n, update: function(timeElapsed){\n\n    for (var i = entityManager.visibleEntities.length - 1; i >= 0; i--) {\n\n      var entityId =entityManager.visibleEntities[i].id\n      var entity = entityManager.entities[entityId]\n      var checkEntities = entityManager.visibleEntities\n\n      for (var y = checkEntities.length - 1; y >= 0; y--) {\n\n        var checkEntityId = checkEntities[y].id\n        var checkEntity = entityManager.entities[checkEntityId]\n\n        if (checkEntityId != entityId) {\n          if (entityCollisionDetection.collsitionDetectionOfTwoEntities(entity, checkEntity)){\n            if ((entity.entityCollisions[checkEntity.Id] != undefined && !entity.entityCollisions[checkEntity.Id])\n              || (checkEntity.entityCollisions[entity.Id] != undefined && !checkEntity.entityCollisions[entity.Id])) {\n\n              entityCollisionDetection.calculateEntitiesCollisionReaction(entity, checkEntity)\n\n              entity.entityCollisions[checkEntity.Id] = true\n              checkEntity.entityCollisions[entity.Id] =  true\n            }\n          } else {\n            entity.entityCollisions[checkEntity.Id] = false\n            checkEntity.entityCollisions[entity.Id] = false\n          }\n        }\n      }\n\n      var objectCollision = false;\n      for (var z = 0; z < entity.entityCollisions.length; z++) {\n        if (entity.entityCollisions[z]) {\n          objectCollision = true\n          break\n        }\n      }\n      \n      entity.physics.setObjectCollision(objectCollision, entity.entityCollisions)\n    }\n  }\n\n  /**\n   *  \n   */ \n, calculateEntitiesCollisionReaction: function(entity1, entity2){\n    var newEntity1VelX = (entity1.physics.velocity.x * (entity1.physics.mass - entity2.physics.mass) + (2 * entity2.physics.mass * entity2.physics.velocity.x)) / (entity1.physics.mass + entity2.physics.mass)\n      , newEntity1VelY = (entity1.physics.velocity.y * (entity1.physics.mass - entity2.physics.mass) + (2 * entity2.physics.mass * entity2.physics.velocity.y)) / (entity1.physics.mass + entity2.physics.mass)\n      , newEntity2VelX = (entity2.physics.velocity.x * (entity2.physics.mass - entity1.physics.mass) + (2 * entity1.physics.mass * entity1.physics.velocity.x)) / (entity1.physics.mass + entity2.physics.mass)\n      , newEntity2VelY = (entity2.physics.velocity.y * (entity2.physics.mass - entity1.physics.mass) + (2 * entity1.physics.mass * entity1.physics.velocity.y)) / (entity1.physics.mass + entity2.physics.mass)\n\n    entity1.physics.setVelocity(newEntity1VelX, newEntity1VelY)\n    entity2.physics.setVelocity(newEntity2VelX, newEntity2VelY)\n  }\n\n  /**\n   *  \n   */ \n, collsitionDetectionOfTwoEntities: function(entity1, entity2){\n\n    var entity1HitBox = entity1.physics.getHitBox()\n      , entity2itBox  = entity2.physics.getHitBox()\n\n    return (entity1HitBox.Left   < entity2itBox.Right\n          && entity1HitBox.Right  > entity2itBox.Left\n          && entity1HitBox.Top    < entity2itBox.Bottom\n          && entity1HitBox.Bottom > entity2itBox.Top)\n  }\n\n  /**\n   *  \n   */ \n, isEntityCollidingWithOtherEntites: function(entity){\n\n    for (var i = entity.entityCollisions.length - 1; i >= 0; i--) {\n\n      if (entity.entityCollisions[i] == undefined) {\n        continue\n      }\n\n      if (entity.entityCollisions[i]) {\n        return true\n      }\n    }\n\n    return false\n  }\n}\n\nmodule.exports = entityCollisionDetection\n\n}());\n\n},{\"./../managers/entityManager\":18}],10:[function(_dereq_,module,exports){\n/**\n * worldCollisionDetection.js\n *\n * @package gameturfjs\n */\n\n(function() {\n\n/*global require, module */\n  \nvar tilesHelper = _dereq_('./../helpers/tilesHelper')\nvar theatre     = _dereq_('./../core/theatre')\nvar sound       = _dereq_('./../core/sound')\nvar settings    = _dereq_('./../core/settings')\nvar physicsHelper = _dereq_('./../helpers/physicsHelper')\n\n/**\n *  \n */ \nvar worldCollisionDetection = {\n\n    /**\n     *  \n     */ \n    collsitions: []\n  \n    /**\n     *  \n     */ \n  , checkLines : []\n\n    /**\n     *  \n     */ \n  , collsitionDetection: function(\n      timeElapsed\n    , mapWithTileTypes\n    , worldWith\n    , wolrdHeight\n    , physics){\n\n      var hitbox = physics.getHitBox();\n\n      tilesHelper.calculateNeahrestTileWalls(\n        mapWithTileTypes\n      , worldWith\n      , wolrdHeight\n      , hitbox.centerPosition)\n\n      var colide = false\n\n      for (var tileNr = tilesHelper.neahrestTileWalls.length - 1; tileNr >= 0; tileNr--) {\n        if (tilesHelper.neahrestTileWalls[tileNr]) {\n          for (var tileWallNr = tilesHelper.neahrestTileWalls[tileNr].length - 1; tileWallNr >= 0; tileWallNr--) {\n            colide = worldCollisionDetection.calculateWallCollsitionDenfung(\n                timeElapsed\n              , tilesHelper.neahrestTileWalls[tileNr][tileWallNr]\n              , physics\n              , hitbox) || colide\n          }\n        }\n      }\n\n      return colide\n    }\n\n    /**\n     *  \n     */ \n  , calculateWallCollsitionDenfung: function(\n      timeElapsed\n    , wall\n    , physics\n    , hitbox) {\n\n      for (var i = hitbox.points.length - 1; i >= 0; i--) {\n\n        var hitboxPoint = hitbox.points[i];\n        \n        var hitboxPointFuturePosition = physics.calculateFuturePositionOf({\n            x: hitboxPoint.x\n          , y: hitboxPoint.y\n        }, timeElapsed);\n\n        if(worldCollisionDetection.checkLineIntersectionFast(\n              wall[0].x\n            , wall[0].y\n            , wall[1].x\n            , wall[1].y\n            , hitboxPoint.x\n            , hitboxPoint.y\n            , hitboxPointFuturePosition.x\n            , hitboxPointFuturePosition.y)){\n\n          if (settings.debugWorldCollisions) {\n            worldCollisionDetection.debugCollisionLine(\n              wall[0].x\n            , wall[0].y\n            , wall[1].x\n            , wall[1].y)\n          }\n\n          sound.playEffect('colide', true)\n\n          var wallIsLeft  = true\n            , wallIsRight = true\n            , wallIsUp    = true\n            , wallIsDown  = true\n\n          for (var y = hitbox.points.length - 1; y >= 0; y--){\n            wallIsLeft  = wallIsLeft  && (wall[0].x < hitbox.points[y].x && wall[1].x < hitbox.points[y].x)\n            wallIsRight = wallIsRight && (wall[0].x > hitbox.points[y].x && wall[1].x > hitbox.points[y].x)\n            wallIsUp    = wallIsUp    && (wall[0].y < hitbox.points[y].y && wall[1].y < hitbox.points[y].y)\n            wallIsDown  = wallIsDown  && (wall[0].y > hitbox.points[y].y && wall[1].y > hitbox.points[y].y)\n          }\n\n          if (physics.isBounce) {\n\n            if (wallIsRight && physics.velocity.x > 0) physics.velocity.x = -physics.velocity.x\n            if (wallIsLeft  && physics.velocity.x < 0) physics.velocity.x = -physics.velocity.x\n            if (wallIsDown  && physics.velocity.y > 0) physics.velocity.y = -physics.velocity.y\n            if (wallIsUp    && physics.velocity.y < 0) physics.velocity.y = -physics.velocity.y\n\n          } else {\n\n            if (wallIsRight || wallIsLeft) physics.velocity.x = 0\n            if (wallIsDown  || wallIsUp)   physics.velocity.y = 0\n\n          }\n\n          return true\n        }\n      }\n\n      return false\n    }\n\n    /**\n     *  \n     */ \n  , checkLineIntersectionFast:  function (a,b,c,d,p,q,r,s) {\n\n      if (settings.debugWorldCollisions) {\n        worldCollisionDetection.debugLine(a,b,c,d,p,q,r,s)\n      }\n\n      var det = (c - a) * (s - q) - (r - p) * (d - b)\n\n      if (det === 0) {\n      \n        return false\n      \n      } else {\n      \n        var lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det\n          , gamma  = ((b - d) * (r - a) + (c - a) * (s - b)) / det\n\n        return (0 < lambda && lambda < 1) && (0 < gamma && gamma < 1)\n      }\n    }\n\n    /**\n     *  \n     */ \n  , update: function(timeElapsed){\n      if(settings.debugWorldCollisions) {\n        worldCollisionDetection.collsitions = []\n        worldCollisionDetection.checkLines  = []\n      }\n    }\n\n    /**\n     *  \n     */ \n  , draw: function(timeElapsed){\n      if(settings.debugWorldCollisions) {\n        theatre.drawMultipleLines('stage', worldCollisionDetection.checkLines, \"#F24962\")\n        theatre.drawMultipleLines('stage', worldCollisionDetection.collsitions, \"blue\")\n      }\n    }\n\n    /**\n     *  \n     */ \n  , debugLine: function(a,b,c,d,p,q,r,s){\n\n      worldCollisionDetection.checkLines.push({\n        lineStartX : a\n      , lineStartY : b\n      , lineEndX   : c\n      , lineEndY   : d\n      })\n\n      worldCollisionDetection.checkLines.push({\n        lineStartX : p\n      , lineStartY : q\n      , lineEndX   : r\n      , lineEndY   : s\n      })\n    }\n\n    /**\n     *  \n     */ \n  , debugCollisionLine: function(a,b,c,d){\n      worldCollisionDetection.collsitions.push({\n        lineStartX : a\n      , lineStartY : b\n      , lineEndX   : c\n      , lineEndY   : d\n      })\n    }\n}\n\nmodule.exports =  worldCollisionDetection\n\n}());\n\n},{\"./../core/settings\":4,\"./../core/sound\":5,\"./../core/theatre\":6,\"./../helpers/physicsHelper\":16,\"./../helpers/tilesHelper\":17}],11:[function(_dereq_,module,exports){\n/******************************************************************************\n * face.js\n *\n * \n *****************************************************************************/\n\n(function() {\n\n/*global require, module */\n  \nvar theatre = _dereq_('./../core/theatre')\nvar util    = _dereq_('./../core/util')\n\nmodule.exports = function(config){\n\n  config = config || {}\n\n  var face = {\n\n      color                   : config.color || \"#B0A183\"\n    , defaultFace             : undefined\n    , currentFace             : undefined\n    , faceExpressionDuration  : 200\n    , faceExpressionStartTime : 0\n    , positions               : undefined\n    , leftEyePosition         : { x: 0, y: 0 }\n    , rightEyePosition        : { x: 0, y: 0 }\n    , mouthPosition           : { x: 0, y: 0 }\n    , eyeSize                 : 0\n    , mouthCloseSize          : 0\n    , mouthOpenSize           : 0\n    , lookDirectionAngle:     0\n\n    , init: function(width){\n        face.defaultFace    = face.drawNoramlFace\n        face.currentFace    = face.drawNoramlFace\n        face.eyeSize        = width * 0.2\n        face.mouthOpenSize  = width * 0.2\n        face.mouthCloseSize = width * 0.4\n      }\n\n    , addToDatGuiFolder: function(folder) {\n        var faceFolder = folder.addFolder(\"Face\")\n        faceFolder.add(face, \"faceExpressionDuration\")\n        faceFolder.add(face, \"faceExpressionStartTime\").listen()\n        faceFolder.add(face, \"lookDirectionAngle\").listen()\n      }\n\n    , update: function(physics, isInteracting){\n\n        if (physics.collsition)  {\n\n          face.SetSurpiseFace()\n\n        } else if (physics.isMoving) {\n\n          if (face.faceExpressionStartTime) {\n\n          } else if(isInteracting){\n\n            face.lookDirectionAngle = util.vectorToDegree(physics.velocity)\n\n            if (face.lookDirectionAngle > -45 && face.lookDirectionAngle < 45) {\n              face.SetFaceLookDown()\n            } else if (face.lookDirectionAngle < -135 || face.lookDirectionAngle > 135){\n              face.SetFaceLookTop()\n            } else if (face.lookDirectionAngle > 45 && face.lookDirectionAngle < 135){\n              face.SetFaceLookRight()\n            } else if (face.lookDirectionAngle < -45 && face.lookDirectionAngle > -135){\n              face.SetFaceLookLeft()\n            }\n          }\n        }\n\n        if (face.faceExpressionStartTime) {\n          if (Date.now() - face.faceExpressionStartTime > face.faceExpressionDuration) {\n            face.currentFace             = face.drawNoramlFace\n            face.faceExpressionStartTime = undefined\n          }\n        }\n\n        if (Math.random() > 0.995) {\n          face.setNoramlFaceOpenEyes()\n        }\n      }\n\n    , draw: function(physics) {\n        face.currentFace(physics)\n      }\n\n      // Setter\n\n    , SetSurpiseFace: function(){\n        face.faceExpressionStartTime = Date.now()\n        face.currentFace             = face.drawSurpiseFace\n      }\n\n    , SetFaceLookLeft: function(){\n        face.faceExpressionStartTime = Date.now()\n        face.currentFace             = face.drawFaceLookLeft\n      }\n\n    , SetFaceLookRight: function(){\n        face.faceExpressionStartTime = Date.now()\n        face.currentFace             = face.drawFaceLookRight\n      }\n\n    , SetFaceLookTop: function(){\n        face.faceExpressionStartTime = Date.now()\n        face.currentFace             = face.drawFaceLookTop\n      }\n\n    , SetFaceLookDown: function(){\n        face.faceExpressionStartTime = Date.now()\n        face.currentFace             = face.drawFaceLookDown\n      }\n\n    , setNoramlFaceOpenEyes: function(){\n        face.faceExpressionStartTime = Date.now()\n        face.currentFace             = face.drawNoramlFaceOpenEyes\n      }\n\n      // Draw Face\n    , drawNoramlFace: function(physics) {\n\n        // left eye\n        face.leftEyePosition.x = physics.position.x - (physics.width  * 0.3)\n        face.leftEyePosition.y = physics.position.y - (physics.height * 0.1)\n        theatre.drawLine(\n          'stage'\n        , face.leftEyePosition\n        , face.eyeSize\n        , face.color)\n\n        // right eye\n        face.rightEyePosition.x = physics.position.x + (physics.width  * 0.1)\n        face.rightEyePosition.y = physics.position.y - (physics.height * 0.1)\n        theatre.drawLine(\n          'stage'\n        , face.rightEyePosition\n        , face.eyeSize\n        , face.color)\n\n        // close mouth\n        face.mouthPosition.x = physics.position.x - (physics.width  * 0.2)\n        face.mouthPosition.y = physics.position.y + (physics.height * 0.3)\n        theatre.drawLine(\n          'stage'\n        , face.mouthPosition\n        , face.mouthCloseSize\n        , face.color)\n      }\n\n    , drawNoramlFaceOpenEyes: function(physics) {\n        // linkes auge\n        face.leftEyePosition.x = physics.position.x - (physics.width  * 0.3)\n        face.leftEyePosition.y = physics.position.y - (physics.height * 0.2)\n        theatre.drawSquareFromLeftTopCorner(\n          'stage'\n        , face.leftEyePosition\n        , face.eyeSize\n        , face.color)\n\n        // rechtes auge\n        face.rightEyePosition.x = physics.position.x + (physics.width  * 0.1)\n        face.rightEyePosition.y = physics.position.y - (physics.height * 0.2)\n        theatre.drawSquareFromLeftTopCorner(\n          'stage'\n        , face.rightEyePosition\n        , face.eyeSize\n        , face.color)\n\n        // closed mund\n        face.mouthPosition.x = physics.position.x - (physics.width  * 0.2)\n        face.mouthPosition.y = physics.position.y + (physics.height * 0.3)\n        theatre.drawLine(\n          'stage'\n        , face.mouthPosition\n        , face.mouthCloseSize\n        , face.color)\n      }\n\n    , drawSurpiseFace: function(physics){\n        // linkes auge\n        face.leftEyePosition.x = physics.position.x - (physics.width  * 0.3)\n        face.leftEyePosition.y = physics.position.y - (physics.height * 0.2)\n        theatre.drawSquareFromLeftTopCorner(\n          'stage'\n        , face.leftEyePosition\n        , face.eyeSize\n        , face.color)\n\n        // rechtes auge\n        face.rightEyePosition.x = physics.position.x + (physics.width  * 0.1)\n        face.rightEyePosition.y = physics.position.y - (physics.height * 0.2)\n        theatre.drawSquareFromLeftTopCorner(\n          'stage'\n        , face.rightEyePosition\n        , face.eyeSize\n        , face.color)\n\n        // mund\n        face.mouthPosition.x = physics.position.x - (physics.width  * 0.1)\n        face.mouthPosition.y = physics.position.y + (physics.height * 0.2)\n        theatre.drawSquareFromLeftTopCorner(\n          'stage'\n        , face.mouthPosition\n        , face.mouthOpenSize\n        , face.color)\n      }\n\n    , drawFaceLookLeft: function(physics){\n\n        face.leftEyePosition.x  = physics.position.x - (physics.width  * 0.4)\n        face.leftEyePosition.y  = physics.position.y - (physics.height * 0.2)\n\n        face.rightEyePosition.x = physics.position.x\n        face.rightEyePosition.y = physics.position.y - (physics.height * 0.2)\n\n        face.drawFaceLook(physics)\n      }\n\n    , drawFaceLookRight: function(physics){\n\n        face.leftEyePosition.x  = physics.position.x - (physics.width  * 0.2)\n        face.leftEyePosition.y  = physics.position.y - (physics.height * 0.2)\n\n        face.rightEyePosition.x = physics.position.x + (physics.width  * 0.2)\n        face.rightEyePosition.y = physics.position.y - (physics.height * 0.2)\n\n        face.drawFaceLook(physics)\n      }\n\n    , drawFaceLookTop: function(physics){\n\n        face.leftEyePosition.x  = physics.position.x - (physics.width  * 0.3)\n        face.leftEyePosition.y  = physics.position.y - (physics.height * 0.25)\n\n        face.rightEyePosition.x = physics.position.x + (physics.width  * 0.1)\n        face.rightEyePosition.y = physics.position.y - (physics.height * 0.25)\n\n        face.drawFaceLook(physics)\n      }\n\n    , drawFaceLookDown: function(physics){\n\n        face.leftEyePosition.x  = physics.position.x - (physics.width  * 0.3)\n        face.leftEyePosition.y  = physics.position.y - (physics.height * 0.15)\n\n        face.rightEyePosition.x = physics.position.x + (physics.width  * 0.1)\n        face.rightEyePosition.y = physics.position.y - (physics.height * 0.15)\n\n        face.drawFaceLook(physics)\n      }\n\n    , drawFaceLook: function(physics){\n\n        var shake   = physics.isRunning ? 2 : 1.1\n          , offsetX = (Math.random() - 0.5) * shake\n          , offsetY = (Math.random() - 0.5) * shake\n\n        face.leftEyePosition.x  += offsetX\n        face.leftEyePosition.y  += offsetY\n\n        face.rightEyePosition.x += offsetX\n        face.rightEyePosition.y += offsetY\n\n        // linkes auge\n        theatre.drawSquareFromLeftTopCorner(\n          'stage'\n        , face.leftEyePosition\n        , face.eyeSize\n        , face.color)\n\n        // rechtes auge\n        theatre.drawSquareFromLeftTopCorner(\n          'stage'\n        , face.rightEyePosition\n        , face.eyeSize\n        , face.color)\n\n        // close mouth\n        face.mouthPosition.x = physics.position.x - (physics.width  * 0.2) + offsetX\n        face.mouthPosition.y = physics.position.y + (physics.height * 0.3) + offsetY\n\n        theatre.drawLine(\n          'stage'\n        , face.mouthPosition\n        , face.mouthCloseSize\n        , face.color)\n      }\n    }\n\n  return face\n}\n\n}());\n\n},{\"./../core/theatre\":6,\"./../core/util\":8}],12:[function(_dereq_,module,exports){\n/**\n * interaction.js\n *\n */\n\n(function() {\n\n    /*global require, module */\n\n    module.exports = function(settings){\n    \n      settings = settings || {}\n    \n      var interaction = {\n        \n        onInteraction: settings.onInteraction || function (entity) {\n\n        },\n        \n        drawHighlightBox: settings.drawHighlightBox || function () {\n\n        }\n      }\n    \n      return interaction\n    }\n    \n    }());\n    \n},{}],13:[function(_dereq_,module,exports){\n/******************************************************************************\n * lastPosition.js\n *\n * \n *****************************************************************************/\n\n(function() {\n\n/*global require, module */\n  \nvar theatre = _dereq_('./../core/theatre')\n\nmodule.exports = function(settings){\n\n  settings = settings || {}\n\n  var tempPhysics   = {}\n    , lastPositions = {\n        positions          : []\n      , maxLength          : 5\n      , lastTimeSet        : 0\n      , setTimeDelay       : settings.setTimeDelay || 50\n      , lastEntityIndex    : 0\n      , onlyUpdateIfMoving : false\n      , lineWidth          : settings.lineWidth || 1\n      , shouldDrawLine     : true\n      , shouldDrawBodies   : settings.shouldDrawBodies !== undefined ? settings.shouldDrawBodies : true\n      , color              : settings.color ||  {\n          r: 253\n        , g: 244\n        , b: 194\n        }\n        \n      , addToDatGuiFolder: function(folder) {\n\n          var lastPositionsFolder = folder.addFolder(\"LastPositions\")\n\n          lastPositionsFolder.add(lastPositions, \"maxLength\")\n          lastPositionsFolder.add(lastPositions, \"lastTimeSet\").listen()\n          lastPositionsFolder.add(lastPositions, \"setTimeDelay\")\n          lastPositionsFolder.add(lastPositions, \"lastEntityIndex\").listen()\n          lastPositionsFolder.add(lastPositions, \"onlyUpdateIfMoving\")\n          lastPositionsFolder.add(lastPositions, \"lineWidth\")\n        }\n\n      , clear: function(){\n          lastPositions.positions       = []\n          lastPositions.lastEntityIndex = 0\n          lastPositions.lastTimeSet     = 0\n        }\n\n      , update: function(physics){\n\n          if (lastPositions.onlyUpdateIfMoving && !physics.isMoving) {\n            return;\n          }\n\n          if (Date.now() - lastPositions.lastTimeSet > lastPositions.setTimeDelay){\n\n            if (lastPositions.positions[lastPositions.lastEntityIndex] === undefined) {\n              lastPositions.positions[lastPositions.lastEntityIndex] = { x: 0, y:0 }\n            }\n\n            lastPositions.positions[lastPositions.lastEntityIndex].x = physics.position.x\n            lastPositions.positions[lastPositions.lastEntityIndex].y = physics.position.y\n\n            lastPositions.lastEntityIndex = (lastPositions.lastEntityIndex + 1) % lastPositions.maxLength\n            lastPositions.lastTimeSet     = Date.now()\n          }\n        }\n\n      , draw: function(physics){\n\n          if (lastPositions.shouldDrawBodies) {\n            lastPositions.drawBodies(physics)\n          }\n\n          if (lastPositions.shouldDrawLine) {\n            lastPositions.drawLine(physics)\n          }\n        }\n\n      , drawBodies: function(physics){\n\n          for (var i = 0, positionIndex = lastPositions.lastEntityIndex; i < lastPositions.maxLength; i++) {\n\n            if (lastPositions.positions[positionIndex] == undefined) {\n              continue\n            }\n\n            tempPhysics.position = {\n              x: lastPositions.positions[positionIndex].x\n            , y: lastPositions.positions[positionIndex].y\n            };\n             \n            tempPhysics.halfWidth  = physics.halfWidth\n            tempPhysics.halfHeight = physics.halfHeight\n            tempPhysics.width      = physics.width\n            tempPhysics.height     = physics.height\n          \n            theatre.drawSquareFromCenter(\n              'stage',\n              tempPhysics,\n              \"rgba(\" + lastPositions.color.r + \", \" +\n                        lastPositions.color.g + \", \" +\n                        lastPositions.color.b + \", \" +\n                        ((i * (0.5/lastPositions.maxLength)) + 0.1) + \")\");\n           \n            positionIndex = (positionIndex + 1) % lastPositions.maxLength\n          }\n        }\n\n      , drawLine: function(physics){\n          theatre.drawPath(\n            'stage'\n          , lastPositions.positions\n          , lastPositions.lastEntityIndex\n          , \"rgba(\" + lastPositions.color.r + \", \" + \n                      lastPositions.color.g + \", \" + \n                      lastPositions.color.b + \", 0.6)\"\n          , lastPositions.lineWidth\n          , lastPositions.maxLength\n          , physics)\n        }\n  }\n\n  return lastPositions\n}\n\n}());\n\n},{\"./../core/theatre\":6}],14:[function(_dereq_,module,exports){\n/******************************************************************************\n * physics.js\n *\n * \n *****************************************************************************/\n\n(function() {\n\n/*global require, module */\n\nvar util      = _dereq_('./../core/util')\nvar ui      = _dereq_('./../core/ui')\nvar world     = _dereq_('./../systems/world')\nvar settings  = _dereq_('./../core/settings')\nvar theatre   = _dereq_('./../core/theatre')\nvar entityManager = _dereq_('./../managers/entityManager')\nvar physicsHelper = _dereq_('./../helpers/physicsHelper')\n\nmodule.exports = function(config){\n\n  config = config ||{}\n\n  var physics = {\n\n      position          : config.position          || { x:0, y:0 }\n    , velocity          : config.velocity          || { x:0, y:0 }\n    , speed             : config.speed             || 2\n    , runSpeed          : config.runSpeed          || 4\n    , mass              : config.mass              || 1\n    , height            : config.height            || 20\n    , width             : config.width             || 20\n    , isBounce          : config.isBounce          || false\n    , isFrictionless    : config.isFrictionless    != undefined ? config.isFrictionless : false\n    , frictionMagnitude : config.frictionMagnitude || 0.5\n    , canWorldColide    : config.canWorldColide    != undefined ? config.canWorldColide : true\n\n    , isMoving     : false\n    , angle        : 0\n    , maxVelocity  : undefined\n    , halfWidth    : undefined\n    , halfHeight   : undefined\n    , isRunning    : false\n    , collsition   : false\n    , objectCollision: false\n    , entityCollisions: []\n    , hitBox       : undefined\n    , currentSpeed : 0\n\n    , init: function(){\n        physics.createHitBox()\n        physics.halfHeight = physics.height/2\n        physics.halfWidth  = physics.width/2\n      }\n\n    , addToDatGuiFolder: function(folder){\n        var physicsFolder = folder.addFolder(\"Physics\")\n        physicsFolder.add(physics, \"speed\").listen()\n        physicsFolder.add(physics, \"runSpeed\").listen()\n        physicsFolder.add(physics, \"isBounce\").listen()\n        physicsFolder.add(physics, \"angle\").listen()\n        physicsFolder.add(physics, \"mass\").listen()\n        physicsFolder.add(physics, \"currentSpeed\").listen()\n        physicsFolder.add(physics, \"isFrictionless\").listen()\n        physicsFolder.add(physics, \"frictionMagnitude\").listen()\n        physicsFolder.add(physics.position, \"x\").listen()\n        physicsFolder.add(physics.position, \"y\").listen()\n        physicsFolder.add(physics, \"collsition\").listen()\n        physicsFolder.add(physics, \"isMoving\").listen()\n        physicsFolder.add(physics, \"isRunning\").listen()\n        physicsFolder.add(physics.velocity, \"x\").listen()\n        physicsFolder.add(physics.velocity, \"y\").listen()\n      }\n\n    , calculateFriction: function(){\n\n        if (!physics.isFrictionless) {\n          if (physics.currentSpeed  > 0) {\n            if (physics.currentSpeed < physics.frictionMagnitude) {\n              physics.setVelocity(0, 0)\n            } else {\n              physics.lowerVelocityTo(physics.currentSpeed - physics.frictionMagnitude)\n            } \n          } else {\n            physics.setVelocity(0, 0)\n          }\n        }\n      }\n\n    , inputUpdate: function(input){\n        if (input) {\n          physics.isRunning = input.isRunning\n          physics.maxVelocity = physics.isRunning ? physics.runSpeed : physics.speed\n\n          physics.addVelocity(input.vector.x * (physics.maxVelocity/2), input.vector.y * (physics.maxVelocity/2))\n\n          if (physics.currentSpeed > physics.maxVelocity)\n            physics.lowerVelocityTo(physics.maxVelocity)\n          else if (physics.currentSpeed < 0.2)\n            physics.setVelocity(0, 0)\n        }\n      }\n\n    , update: function(timeElapsed, input){\n        physics.isMoving    = false\n        physics.collsition  = false\n\n        physics.calculateFriction()\n        physics.inputUpdate(input)\n\n        if (physics.currentSpeed > 0) {\n\n          physics.isMoving = true\n\n          physics.collsition = physics.collsitionDetection(timeElapsed)\n\n          if (physics.objectCollision) {\n\n            var entity = false;\n\n            for (var i = 0; i < physics.entityCollisions.length; i++) {\n              if (physics.entityCollisions[i]) {\n                entity = entityManager.entities[i]\n              }\n            }\n\n            if (entity) {\n              \n              var hitBox = physics.getHitBox()\n              var entityHitBox  = entity.physics.getHitBox()\n        \n              var objectIsLeft  = physics.position.x > entity.physics.position.x && hitBox.Left   < entityHitBox.Right\n              , objectIsRight   = physics.position.x < entity.physics.position.x && hitBox.Right  > entityHitBox.Left\n              , objectIsUp      = physics.position.y > entity.physics.position.y && hitBox.Top    < entityHitBox.Bottom\n              , objectIsDown    = physics.position.y < entity.physics.position.y && hitBox.Bottom > entityHitBox.Top\n\n              if (objectIsRight && physics.velocity.x > 0) physics.velocity.x = 0\n              if (objectIsLeft  && physics.velocity.x < 0) physics.velocity.x = 0\n              if (objectIsDown  && physics.velocity.y > 0) physics.velocity.y = 0\n              if (objectIsUp    && physics.velocity.y < 0) physics.velocity.y = 0\n            }\n          }\n\n          physics.position = physics.calculateFuturePositionOf(physics.position, timeElapsed)\n        }\n      }\n\n    , calculateFuturePositionOf: function (position, timeElapsed) {\n        position.x += physicsHelper.calculateVelocityForTime(timeElapsed, physics.velocity.x)\n        position.y += physicsHelper.calculateVelocityForTime(timeElapsed, physics.velocity.y)\n        return position\n      }\n\n    , draw: function(){\n        if (settings.physicsDebugMode) physics.drawDebugInfo()\n      }\n\n    , createHitBox: function(){\n        physics.hitBox = {\n            centerPosition: {}\n          , Left          : undefined\n          , Right         : undefined\n          , Bottom        : undefined\n          , Top           : undefined\n          , points        : [\n              { x: undefined, y: undefined }\n            , { x: undefined, y: undefined }\n            , { x: undefined, y: undefined }\n            , { x: undefined, y: undefined }\n          ]\n        }\n      }\n\n    , getHitBox: function() {\n        physics.hitBox.centerPosition.x = physics.position.x\n        physics.hitBox.centerPosition.y = physics.position.y\n\n        physics.hitBox.Left   = physics.position.x - physics.halfWidth\n        physics.hitBox.Right  = physics.position.x + physics.halfWidth\n        physics.hitBox.Bottom = physics.position.y + physics.halfHeight\n        physics.hitBox.Top    = physics.position.y - physics.halfHeight\n\n        physics.hitBox.points[0].x = physics.hitBox.Left\n        physics.hitBox.points[0].y = physics.hitBox.Top\n\n        physics.hitBox.points[1].x = physics.hitBox.Left\n        physics.hitBox.points[1].y = physics.hitBox.Bottom\n\n        physics.hitBox.points[2].x = physics.hitBox.Right\n        physics.hitBox.points[2].y = physics.hitBox.Top\n\n        physics.hitBox.points[3].x = physics.hitBox.Right\n        physics.hitBox.points[3].y = physics.hitBox.Bottom\n\n        return physics.hitBox\n      }\n\n    , collsitionDetection: function(timeElapsed){\n        if (physics.canWorldColide) {\n          return world.collsitionDetection(\n            timeElapsed\n          , physics)\n        }\n        return false\n      }\n\n    , drawDebugInfo: function(){\n        theatre.drawLineWithVector(\n            'stage'\n          , physics\n          , {\n                x: physics.velocity.x * 20\n              , y: physics.velocity.y * 20\n            }\n          , \"red\")\n      }\n\n    , addVelocity: function(valueX, valueY) {\n        physics.velocity.x += valueX\n        physics.velocity.y += valueY\n        physics.calculateSpeed()\n      }\n\n    , setVelocity: function(valueX, valueY){\n        physics.velocity.x = valueX\n        physics.velocity.y = valueY\n        physics.calculateSpeed()\n      }\n\n    , lowerVelocityTo: function(value){\n        util.shrinkVectorToLength(physics.velocity, value)\n        physics.calculateSpeed()\n      }\n\n    , setObjectCollision: function (value, entityCollisions) {\n      physics.objectCollision = value\n      physics.entityCollisions = entityCollisions\n    }\n\n    , calculateSpeed: function(){\n        physics.currentSpeed = util.vectorLength(physics.velocity)\n      }\n  }\n\n  physics.init()\n\n  return physics\n}\n\n}());\n\n},{\"./../core/settings\":4,\"./../core/theatre\":6,\"./../core/ui\":7,\"./../core/util\":8,\"./../helpers/physicsHelper\":16,\"./../managers/entityManager\":18,\"./../systems/world\":21}],15:[function(_dereq_,module,exports){\n/******************************************************************************\n * gameTurf.js\n *\n * \n *****************************************************************************/\n\n\"use strict\";\n\n(function() {\n\n/*global require, module */\n\nmodule.exports = {\n\n    settings : _dereq_('./core/settings')\n,   input    : _dereq_('./core/input')\n,   theatre  : _dereq_('./core/theatre')\n,   ui       : _dereq_('./core/ui')\n,   sound    : _dereq_('./core/sound')\n,   util     : _dereq_('./core/util')\n,   game     : _dereq_('./core/game')\n,   face     : _dereq_('./entityPlugins/face')\n,   physics  : _dereq_('./entityPlugins/physics')\n,   wind     : _dereq_('./systems/wind')\n,   math     : _dereq_('./core/math')\n,   world    :  _dereq_('./systems/world')\n,   interaction: _dereq_('./entityPlugins/interaction')\n,   lastPositions : _dereq_('./entityPlugins/lastPositions')\n,   entityManager : _dereq_('./managers/entityManager')\n,   entityCollisionDetection : _dereq_('./detectors/entityCollisionDetection')\n}\n\n}())\n\n},{\"./core/game\":1,\"./core/input\":2,\"./core/math\":3,\"./core/settings\":4,\"./core/sound\":5,\"./core/theatre\":6,\"./core/ui\":7,\"./core/util\":8,\"./detectors/entityCollisionDetection\":9,\"./entityPlugins/face\":11,\"./entityPlugins/interaction\":12,\"./entityPlugins/lastPositions\":13,\"./entityPlugins/physics\":14,\"./managers/entityManager\":18,\"./systems/wind\":20,\"./systems/world\":21}],16:[function(_dereq_,module,exports){\n/**\n * physicsHelper.js\n *\n */\n\n(function() {\n\n    /*global require, module */\n    \n    var settings  = _dereq_('./../core/settings')\n    \n    var physicsHelper = {\n\n        \n\n        /**\n         * velocity 1 -> 100px pro Sekunde: 100 px/s\n         * @param {*} timeElapsed \n         * @param {*} velocityDirection \n         */\n        calculateVelocityForTime: function (timeElapsed, velocityDirection) {\n            return Math.round(((timeElapsed/10) * velocityDirection)*1000)/1000;\n        }\n    }\n    \n    module.exports = physicsHelper\n    \n}());\n\n},{\"./../core/settings\":4}],17:[function(_dereq_,module,exports){\n/******************************************************************************\n * tilesHelper.js\n *\n * \n *****************************************************************************/\n\n(function() {\n\n/*global require, module */\n\nvar theatre   = _dereq_('./../core/theatre')\nvar settings  = _dereq_('./../core/settings')\n\nvar tileHelper = {\n\n    tileWalls: []\n  , createdTime   : Date.now()\n  , grassHalmPositions: []\n  , neahrestTileWalls: []\n\n    /**\n     * Bedeutung:\n     *  \n     * 1 = 0001 --> setzte 2^0 stelle -> oben ist keine wand\n     * 2 = 0010 --> setzte 2^1 stelle -> rechts ist keine wand\n     * 4 = 0100 --> setzte 2^2 stelle -> unten ist keine wand\n     * 8 = 1000 --> setzte 2^3 stelle -> links ist keine wand\n     *\n     * (2^3, 2^2, 2^1, 2^0) --> (links, unten, rechts, oben)\n     *\n     * Wandarten:\n     *\n     *  0 -> 0000 -> links, unten, rechts, oben Wand\n     *  1 -> 0001 -> links, unten, rechts Wand\n     *  2 -> 0010 -> links, unten, oben Wand\n     *  3 -> 0011 -> links, unten  Wand\n     *  4 -> 0100 -> links, rechts, oben Wand\n     *  5 -> 0101 -> links, rechts Wand\n     *  6 -> 0110 -> links, oben Wand\n     *  7 -> 0111 -> links Wand\n     *  8 -> 1000 -> unten, rechts, oben Wand\n     *  9 -> 1001 -> unten, rechts Wand\n     * 10 -> 1010 -> unten, oben Wand\n     * 11 -> 1011 -> unten Wand\n     * 12 -> 1100 -> rechts, oben Wand\n     * 13 -> 1101 -> rechts Wand\n     * 14 -> 1110 -> oben Wand\n     * 15 -> 1111 -> keine Wand\n     *\n     * Danach addieren wir 1 drauf, somit wird Tiletypes:\n     *\n     * 0: keine Player/Map Zone\n     * 1: links, unten, rechts, oben Wand\n     * 2: links, unten, rechts Wand\n     * \n     *  ...\n     *\n     * 16: keine Wand\n     *\n     */\n  , calculateMapWithTileTypes: function(map, worldWith, wolrdHeight){\n      var mapWithTileTypes = []\n\n      for (var y = 0; y < wolrdHeight; y++) {\n        for (var x = 0; x < worldWith; x++) {\n\n          var arrayPosition = y * worldWith + x\n\n          if (map[arrayPosition] != 0) {\n\n            var val = 0\n\n            // oben ist keine wand\n            if (y > 0 && map[(y - 1) * worldWith + x] != 0) {\n              val |= 1\n            }\n\n            // rechts ist keine wand\n            if (x < (worldWith-1) && map[y * worldWith + x + 1] != 0) {\n              val |= 2\n            }\n\n            // unten ist keine wand\n            if (y < (wolrdHeight-1) && map[(y + 1) * worldWith + x] != 0){\n                val |= 4\n            }\n\n            // links ist keine wand\n            if (x > 0 && map[y * worldWith + x - 1] != 0) {\n              val |= 8\n            }\n\n            mapWithTileTypes[arrayPosition] = val + 1\n\n          } else {\n            mapWithTileTypes[arrayPosition] = 0\n          }\n        }\n      }\n\n      return mapWithTileTypes\n    }\n\n    /**\n     * example:\n     *  1001 && 0001 -> 0001 -> 1 -> oben keine Wand\n     *  1001 && 0010 -> 0000 -> 0 -> rechts ist Wand\n     *  1001 && 0100 -> 0000 -> 0 -> unten ist Wand\n     *  1001 && 1001 -> 1000 -> 8 -> links keine Wand\n     * \n     * (links, unten, rechts, oben)\n     */\n  , calculateNeahrestTileWalls: function(mapWithTileTypes, worldWith, wolrdHeight, position){\n\n      var arrayPosition      = 0\n        , tileArrayPositionX = Math.floor(Math.floor(position.x)/settings.tileSize)\n        , tileArrayPositionY = Math.floor(Math.floor(position.y)/settings.tileSize)\n\n      for (var x = tileArrayPositionX - 1; x <= (tileArrayPositionX + 1); x++) {\n        for (var y = tileArrayPositionY - 1; y <= (tileArrayPositionY + 1); y++) {\n\n          if (x<0 || y<0|| x>=worldWith||y >= wolrdHeight){\n              tileHelper.neahrestTileWalls[arrayPosition++] = undefined\n            } else {\n            tileHelper.neahrestTileWalls[arrayPosition++] = tileHelper.addTileWalls(\n              mapWithTileTypes\n            , x\n            , y\n            , worldWith)\n            }\n        }\n      }\n    }\n\n  , addTileWalls: function(\n      mapWithTileTypes\n    , tileArrayPositionX\n    , tileArrayPositionY\n    , worldWith){\n\n      if (tileHelper.tileWalls[tileArrayPositionY * worldWith + tileArrayPositionX] == undefined) {\n        \n        var wallType = mapWithTileTypes[tileArrayPositionY * worldWith + tileArrayPositionX] - 1\n          , walls    = []\n\n          , tileLeftTopPosition = {\n              x: tileArrayPositionX * settings.tileSize\n            , y: tileArrayPositionY * settings.tileSize\n          }\n          , tileRightTopPosition = {\n              x: tileLeftTopPosition.x + settings.tileSize\n            , y: tileLeftTopPosition.y\n          }\n          , tileRightBottomPosition = {\n              x: tileLeftTopPosition.x + settings.tileSize\n            , y: tileLeftTopPosition.y + settings.tileSize\n          }\n\n          , tileLeftBottomosition = {\n              x: tileLeftTopPosition.x\n            , y: tileLeftTopPosition.y + settings.tileSize\n          }\n\n        // oben ist wand\n        if ((wallType & 1) === 0) {\n          walls.push([tileLeftTopPosition, tileRightTopPosition])\n        }\n\n        // rechts ist wand\n        if ((wallType & 2) === 0) {\n          walls.push([tileRightTopPosition, tileRightBottomPosition])\n        }\n\n        // unten ist wand\n        if ((wallType & 4) === 0) {\n          walls.push([tileLeftBottomosition, tileRightBottomPosition])\n        }\n\n        // links ist wand\n        if ((wallType & 8) === 0) {\n          walls.push([tileLeftTopPosition, tileLeftBottomosition])\n        }\n\n        tileHelper.tileWalls[tileArrayPositionY * worldWith + tileArrayPositionX] = walls\n      }\n\n      return tileHelper.tileWalls[tileArrayPositionY * worldWith + tileArrayPositionX]\n    }\n\n  , drawTiles: function(timeElapsed, map, mapWithTileTypes, worldWith, wolrdHeight){\n\n      var mintileArrayPositionX = Math.floor(Math.floor(theatre.canvasBoxLeft)   / settings.tileSize)\n        , mintileArrayPositionY = Math.floor(Math.floor(theatre.canvasBoxTop)    / settings.tileSize)\n\n        , maxtileArrayPositionX = Math.floor(Math.floor(theatre.canvasBoxRight)  / settings.tileSize)\n        , maxtileArrayPositionY = Math.floor(Math.floor(theatre.canvasBoxBottom) / settings.tileSize)\n\n      if (mintileArrayPositionX < 0 ) mintileArrayPositionX = 0\n      if (mintileArrayPositionY < 0 ) mintileArrayPositionY = 0\n      if (maxtileArrayPositionX < 0 ) maxtileArrayPositionX = 0\n      if (maxtileArrayPositionY < 0 ) maxtileArrayPositionY = 0\n\n      if (mintileArrayPositionX > worldWith   - 1) mintileArrayPositionX = worldWith   - 1\n      if (mintileArrayPositionY > wolrdHeight - 1) mintileArrayPositionY = wolrdHeight - 1\n      if (maxtileArrayPositionX > worldWith   - 1) maxtileArrayPositionX = worldWith   - 1\n      if (maxtileArrayPositionY > wolrdHeight - 1) maxtileArrayPositionY = wolrdHeight - 1\n\n      var tilePosition = {}\n\n      //animationSpan\n      var timeLength = 5000\n      var timeSegments = (Date.now() - tileHelper.createdTime) % timeLength\n\n      // linearNormalizeTimeSegments: -1 to 1 => mapping to smaller range\n      var linearNormalizeTimeSegments = timeSegments / timeLength\n      linearNormalizeTimeSegments *= 2\n      linearNormalizeTimeSegments -= 1\n   \n      // quadraticNormalizeTimeSegments: 0 to 1 to 0 => ^^^^^^^ => -1 is zero and 1 is zero -> continues loop for animation\n      var quadraticNormalizeTimeSegments = ((-1 * Math.pow(linearNormalizeTimeSegments, 2)) + 1)\n\n      for (var y = mintileArrayPositionY; y <= maxtileArrayPositionY; y++) {\n        for (var x = mintileArrayPositionX; x <= maxtileArrayPositionX; x++) {\n\n          var tiletype = mapWithTileTypes[y * worldWith + x]\n\n          if (tiletype === 0) continue\n\n          var tileWidth      = settings.tileSize\n            , tileHeight     = settings.tileSize\n          \n          tilePosition.x = (x * settings.tileSize)\n          tilePosition.y = (y * settings.tileSize)\n\n          theatre.drawSquareFromLeftTopCorner(\n            'backdrop'\n          , tilePosition\n          , settings.tileSize +1\n          , \"#CCDDAF\")\n\n          if (map[y * worldWith + x] === 2) {\n            tileHelper.drawGrass(quadraticNormalizeTimeSegments, tilePosition, tileWidth, tileHeight, 200, 6)\n          } else {\n            tileHelper.drawGrass(quadraticNormalizeTimeSegments, tilePosition, tileWidth, tileHeight, 20, 3)\n          }\n        }\n      }\n    }\n  \n  , drawGrass: function(quadraticNormalizeTimeSegments, position, width, height, count, grassHeight){\n      theatre.foreground.beginPath();\n      theatre.foreground.lineWidth = 2\n      theatre.foreground.strokeStyle = \"rgba(167,191,127,0.6)\";\n      for (var i = count; i >= 0; i--) {\n\n        var grassHalmPosition;\n        var key = position.x + \";\" + position.y + \";\" + i;\n        if (tileHelper.grassHalmPositions[key]) {\n          grassHalmPosition = tileHelper.grassHalmPositions[key];\n        } else {\n          grassHalmPosition = tileHelper.grassHalmPositions[key] = {\n            x: position.x + (((Math.random() * width)  ) )\n          , y: position.y + (((Math.random() * height) ) )\n          }\n        }\n\n        theatre.foreground.moveTo(\n          Math.floor(grassHalmPosition.x) * theatre.scale\n        , Math.floor(grassHalmPosition.y) * theatre.scale\n        )\n\n        theatre.foreground.quadraticCurveTo(\n          Math.floor(grassHalmPosition.x) * theatre.scale\n        , Math.floor(grassHalmPosition.y - (grassHeight/2)) * theatre.scale\n        , Math.floor(grassHalmPosition.x + ((grassHeight*quadraticNormalizeTimeSegments)-(grassHeight/2))) * theatre.scale\n        , Math.floor(grassHalmPosition.y - grassHeight) * theatre.scale\n        )\n      }\n\n      theatre.foreground.stroke()\n      theatre.foreground.strokeWidth = 1\n    }\n}\n\nmodule.exports = tileHelper\n\n}());\n\n},{\"./../core/settings\":4,\"./../core/theatre\":6}],18:[function(_dereq_,module,exports){\n/******************************************************************************\n * entityManager.js\n *\n * \n *****************************************************************************/\n\n(function() {\n\n/*global require, module */\n\nvar QuadTree  = _dereq_('../../vendors/QuadTree')\nvar theatre   = _dereq_('../core/theatre')\nvar util      = _dereq_('../core/util')\nQuadTree = QuadTree.QuadTree;\n\nvar entityManager = {\n\n    entities        : []\n  , visibleEntities : []\n  , tree            : new QuadTree({\n      x      : 0\n    , y      : 0\n    , width  : 14000\n    , height : 13000\n    })\n\n  , add: function(entity){\n      var nextIndex                     = entityManager.entities.length\n      entity.Id                         = nextIndex\n      entity.physics.id                 = nextIndex\n      entityManager.entities[nextIndex] = entity\n    }\n\n  , update: function(timeElapsed){\n\n      entityManager.visibleEntities = entityManager.tree.retrieveInBounds({\n        x      : theatre.canvasBoxLeft\n      , y      : theatre.canvasBoxTop\n      , width  : theatre.canvasWidth\n      , height : theatre.canvasHeight\n      })\n\n      for (var y = entityManager.entities.length - 1; y >= 0; y--) {\n        entityManager.entities[y].update(timeElapsed)\n      }\n\n      entityManager.tree.clear();\n      for (var i = entityManager.entities.length - 1; i >= 0; i--) {\n        entityManager.entities[i].physics.position.id = entityManager.entities[i].physics.id\n        entityManager.tree.insert(entityManager.entities[i].physics.position)\n      }\n    }\n\n  , postUpdate: function(timeElapsed){\n      for (var i = entityManager.entities.length - 1; i >= 0; i--) {\n        if (entityManager.entities[i].postUpdate) {\n          entityManager.entities[i].postUpdate(timeElapsed)\n        }\n      }\n    }\n  \n  , preDraw: function(timeElapsed){\n      for (var i = entityManager.visibleEntities.length - 1; i >= 0; i--) {\n        var id = entityManager.visibleEntities[i].id\n        if (entityManager.entities[id].preDraw) {\n          entityManager.entities[id].preDraw(timeElapsed)\n        }\n      }\n    }\n\n  , draw: function(timeElapsed){\n      for (var i = entityManager.visibleEntities.length - 1; i >= 0; i--) {\n        var id = entityManager.visibleEntities[i].id\n        entityManager.entities[id].draw(timeElapsed)\n      }\n    }\n\n  , getNeahrestEntity: function(entity, maxRange){\n\n      maxRange =  maxRange || 0\n\n      var neahrestEnitty\n      var neahrestEnittyDistance = Number.MAX_SAFE_INTEGER\n\n      for (var y = entityManager.visibleEntities.length - 1; y >= 0; y--) {\n        var checkEntityId = entityManager.visibleEntities[y].id\n        var checkEntity   = entityManager.entities[checkEntityId]\n\n        if (entity.physics.id == checkEntityId) {\n          continue\n        }\n\n        var distanceVector = {\n          x: entity.physics.position.x - checkEntity.physics.position.x\n        , y: entity.physics.position.y - checkEntity.physics.position.y\n        }\n\n        var checkDistance = util.vectorLength(distanceVector)\n\n        if (checkDistance < neahrestEnittyDistance \n          && checkDistance <= maxRange) {\n          neahrestEnitty         = checkEntity\n          neahrestEnittyDistance = checkDistance\n        }\n      }\n\n      return neahrestEnitty\n    }\n}\n\nmodule.exports = entityManager\n\n}())\n\n},{\"../../vendors/QuadTree\":22,\"../core/theatre\":6,\"../core/util\":8}],19:[function(_dereq_,module,exports){\n/******************************************************************************\n * windParticleFactory.js\n *\n * \n *****************************************************************************/\n\n(function() {\n\n/*global require, module */\n\nvar theatre       = _dereq_('./../core/theatre')\nvar Physics       = _dereq_('./../entityPlugins/physics')\nvar LastPositions = _dereq_('./../entityPlugins/lastPositions')\nvar sound         = _dereq_('./../core/sound')\nvar physicsHelper = _dereq_('./../helpers/physicsHelper')\nvar ui            = _dereq_('./../core/ui')\n\nif (ui.datGui) {\n  var windParticles = ui.datGui.addFolder(\"WindParticles\")\n}  \n\nvar WindParticleFactory = function(id){\n\n  var WindParticle = {\n      Id: id\n    , type: 'WindParticle'\n    , physics: Physics({\n        position: {\n          x : 0\n        , y : 0\n        }\n      , height         : 5\n      , width          : 5\n      , canWorldColide : false\n      })\n    , lastPositions: LastPositions({\n        shouldDrawBodies: false\n      , color: {\n          r: 255\n        , g: 255\n        , b: 255\n        }\n      })\n    , isAlive               : false\n    , lifeTime              : 1500\n    , createdTime           : undefined\n    , movementDirectionData : {\n        isRunning   : false\n      , vector      : { x: 0, y: 0 }\n      }\n\n    , birth: function(){\n        WindParticle.createdTime = Date.now()\n        WindParticle.isAlive     = true\n        sound.playEffect('wind')\n        WindParticle.physics.position.x = theatre.canvasBoxLeft + (Math.random() * theatre.stageCanvas.width)\n        WindParticle.physics.position.y = theatre.canvasBoxTop  + (Math.random() * theatre.stageCanvas.height)\n      }\n\n    , update: function(timeElapsed, windDirection, windSpeed){\n\n        var currentLifeTime = Date.now() - WindParticle.createdTime\n\n        if(currentLifeTime > WindParticle.lifeTime){\n\n          WindParticle.isAlive = false\n          WindParticle.lastPositions.clear()\n        \n        } else {\n          // value between -1 and 1\n          var currentLifeTimeNormal = (currentLifeTime / (WindParticle.lifeTime / 2)) - 1\n          // negative quatraic function for high middle value and low start/end points\n          var setTimeDelay = ((-1 * Math.pow(currentLifeTimeNormal, 2) + 1) * 150)\n\n          WindParticle.lastPositions.lineWidth    = ((setTimeDelay) / 150) * 2\n          WindParticle.lastPositions.setTimeDelay = setTimeDelay\n\n          WindParticle.lastPositions.update(WindParticle.physics)\n\n          WindParticle.physics.speed = windSpeed\n\n          WindParticle.movementDirectionData.vector.x = (Math.random() - 0.5 + windDirection.x)\n          WindParticle.movementDirectionData.vector.y = (Math.random() - 0.5 + windDirection.y)\n\n          WindParticle.physics.update(timeElapsed, WindParticle.movementDirectionData)\n        }\n      }\n\n      , draw: function(timeElapsed){\n\n        WindParticle.lastPositions.draw(WindParticle.physics)\n        /*\n        var currentLifeTime = Date.now() - WindParticle.createdTime\n\n        // value between -1 and 1\n        var currentLifeTimeNormal = (currentLifeTime/(WindParticle.lifeTime/2)) - 1\n\n        // negative quatraic function for high middle value and low start/end points\n        var opacity = ((-1 * Math.pow(currentLifeTimeNormal, 2)) + 1)\n        */\n      }\n  }\n  \n  if (ui.datGui) {\n    var datGuiFolder = windParticles.addFolder(\"WindParticle - \" + WindParticle.Id)\n    ui.datGui.remember(WindParticle)\n    datGuiFolder.add(WindParticle, \"isAlive\").listen()\n    datGuiFolder.add(WindParticle, \"lifeTime\").listen()\n    //datGuiFolder.add(WindParticle, \"createdTime\")\n    datGuiFolder.add(WindParticle, \"type\")\n\n    datGuiFolder.add(WindParticle.movementDirectionData.vector, \"x\").listen()\n    datGuiFolder.add(WindParticle.movementDirectionData.vector, \"y\").listen()\n    datGuiFolder.add(WindParticle.movementDirectionData, \"isRunning\").listen()\n\n    WindParticle.lastPositions.addToDatGuiFolder(datGuiFolder)\n    WindParticle.physics.addToDatGuiFolder(datGuiFolder)\n  }\n\n  return WindParticle\n}\n\nmodule.exports =  WindParticleFactory\n\n}())\n\n},{\"./../core/sound\":5,\"./../core/theatre\":6,\"./../core/ui\":7,\"./../entityPlugins/lastPositions\":13,\"./../entityPlugins/physics\":14,\"./../helpers/physicsHelper\":16}],20:[function(_dereq_,module,exports){\n/******************************************************************************\n * wind.js\n *\n * \n *****************************************************************************/\n\n(function() {\n\n/*global require, module */\n\nvar util                = _dereq_('./../core/util')\nvar WindParticleFactory = _dereq_('./WindParticleFactory')\nvar ui                  = _dereq_('./../core/ui')\n\nvar wind = {\n\n    windParticles        : []\n  , windDirection        : { x: 1, y:0 }\n  , windSpeed            : 4\n  , maxAliveWindPartiles : 10\n\n  , init: function(){\n      for (var i = 0; i < 10; i++) {\n        wind.windParticles.push(WindParticleFactory(i))\n      }\n    }\n\n  , influenceEntityPhysic: function(physics, moveDirectionVector){\n      if (Math.random() > 0.5) {\n        moveDirectionVector.x += (wind.windDirection.x * (1 / physics.mass)) / 1000\n        moveDirectionVector.y += (wind.windDirection.y * (1 / physics.mass)) / 1000\n      }\n    }\n\n  , update: function(timeElapsed){\n\n      if (Math.random()>0.995){\n        wind.windSpeed = (Math.random() * 9) + 1\n      }\n\n      if (Math.random()>0.95) {\n        wind.windDirection.x = Math.random() - 0.5 + wind.windDirection.x\n        wind.windDirection.y = Math.random() - 0.5 + wind.windDirection.y\n        util.setVectorToLengthOne(wind.windDirection)\n      }\n\n      if(Math.random() > (0.995 - (wind.windSpeed/100))) {\n        for (var i = 0; i < wind.maxAliveWindPartiles; i++) {\n          if (!wind.windParticles[i].isAlive){\n            wind.windParticles[i].birth()\n            break\n          }\n        }\n      }\n\n      for (var i = 0; i < wind.maxAliveWindPartiles; i++){\n        if (wind.windParticles[i].isAlive){\n          wind.windParticles[i].update(timeElapsed, wind.windDirection, wind.windSpeed)\n        }\n      }\n    }\n\n  , draw: function(timeElapsed){\n      for (var i = 0; i < wind.maxAliveWindPartiles; i++){\n        if (wind.windParticles[i].isAlive){\n          wind.windParticles[i].draw(timeElapsed)\n        }\n      }\n    }\n}\n\nwind.init()\n\nif (ui.datGui) {\n  var datGuiFolder = ui.datGui.addFolder(\"Wind\")\n  datGuiFolder.add(wind.windDirection, \"x\").listen();   \n  datGuiFolder.add(wind.windDirection, \"y\").listen();   \n  datGuiFolder.add(wind, \"windSpeed\").listen();  \n  datGuiFolder.add(wind, \"maxAliveWindPartiles\")\n}\n\nmodule.exports = wind\n\n}())\n\n},{\"./../core/ui\":7,\"./../core/util\":8,\"./WindParticleFactory\":19}],21:[function(_dereq_,module,exports){\n/******************************************************************************\n * gameTurf.js\n *\n * \n *****************************************************************************/\n\n (function() {\n\n/*global require, module */\n\nvar tilesHelper               = _dereq_('./../helpers/tilesHelper')\nvar worldCollisionDetection  = _dereq_('./../detectors/worldCollisionDetection')\n\nvar world = {\n\n    map              : undefined\n  , worldWith        : undefined\n  , wolrdHeight      : undefined\n  , mapWithTileTypes : undefined\n\n    /**\n     *  Initialize the World.\n     *\n     *  @param {array[number]} map  \n     *  @param {number} height\n     *  @param {number} width \n     */\n  , init: function(\n      map \n    , height \n    , width\n    ){\n      world.map              = map\n      world.worldWith        = width\n      world.wolrdHeight      = height\n      world.mapWithTileTypes = tilesHelper.calculateMapWithTileTypes(\n        world.map\n      , world.worldWith\n      , world.wolrdHeight)\n    }\n\n    /**\n     *  Detect if hitbox is coliding with the world border.\n     *  \n     *  @param {} \n     */\n  , collsitionDetection: function(\n      timeElapsed\n    , physics\n    ){  \n      return worldCollisionDetection.collsitionDetection(\n        timeElapsed\n      , world.mapWithTileTypes\n      , world.worldWith\n      , world.wolrdHeight\n      , physics)\n    }\n\n    /**\n     *\n     */\n  , draw: function(timeElapsed) {\n      tilesHelper.drawTiles(\n        timeElapsed\n      , world.map\n      , world.mapWithTileTypes\n      , world.worldWith\n      , world.wolrdHeight)\n    }\n};\n\nmodule.exports =  world\n\n}())\n\n},{\"./../detectors/worldCollisionDetection\":10,\"./../helpers/tilesHelper\":17}],22:[function(_dereq_,module,exports){\n/*\n\tThe MIT License\n\n\tCopyright (c) 2011 Mike Chambers\n\n\tPermission is hereby granted, free of charge, to any person obtaining a copy\n\tof this software and associated documentation files (the \"Software\"), to deal\n\tin the Software without restriction, including without limitation the rights\n\tto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n\tcopies of the Software, and to permit persons to whom the Software is\n\tfurnished to do so, subject to the following conditions:\n\n\tThe above copyright notice and this permission notice shall be included in\n\tall copies or substantial portions of the Software.\n\n\tTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n\tIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n\tFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n\tAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n\tLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n\tOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n\tTHE SOFTWARE.\n*/\n\n\n/**\n* A QuadTree implementation in JavaScript, a 2d spatial subdivision algorithm.\n* @module QuadTree\n**/\n\n(function(window) {\n\n/****************** QuadTree ****************/\n\n/**\n* QuadTree data structure.\n* @class QuadTree\n* @constructor\n* @param {Object} An object representing the bounds of the top level of the QuadTree. The object \n* should contain the following properties : x, y, width, height\n* @param {Boolean} pointQuad Whether the QuadTree will contain points (true), or items with bounds \n* (width / height)(false). Default value is false.\n* @param {Number} maxDepth The maximum number of levels that the quadtree will create. Default is 4.\n* @param {Number} maxChildren The maximum number of children that a node can contain before it is split into sub-nodes.\n**/\nfunction QuadTree(bounds, pointQuad, maxDepth, maxChildren)\n{\t\n\tvar node;\n\tif(pointQuad)\n\t{\n\t\t\n\t\tnode = new Node(bounds, 0, maxDepth, maxChildren);\n\t}\n\telse\n\t{\n\t\tnode = new BoundsNode(bounds, 0, maxDepth, maxChildren);\n\t}\n\t\n\tthis.root = node;\n}\n\n/**\n* The root node of the QuadTree which covers the entire area being segmented.\n* @property root\n* @type Node\n**/\nQuadTree.prototype.root = null;\n\n\n/**\n* Inserts an item into the QuadTree.\n* @method insert\n* @param {Object|Array} item The item or Array of items to be inserted into the QuadTree. The item should expose x, y \n* properties that represents its position in 2D space.\n**/\nQuadTree.prototype.insert = function(item)\n{\n\tif(item instanceof Array)\n\t{\n\t\tvar len = item.length;\n\t\t\n\t\tfor(var i = 0; i < len; i++)\n\t\t{\n\t\t\tthis.root.insert(item[i]);\n\t\t}\n\t}\n\telse\n\t{\n\t\tthis.root.insert(item);\n\t}\n}\n\n/**\n* Clears all nodes and children from the QuadTree\n* @method clear\n**/\nQuadTree.prototype.clear = function()\n{\n\tthis.root.clear();\n}\n\n/**\n* Retrieves all items / points in the same node as the specified item / point. If the specified item\n* overlaps the bounds of a node, then all children in both nodes will be returned.\n* @method retrieve\n* @param {Object} item An object representing a 2D coordinate point (with x, y properties), or a shape\n* with dimensions (x, y, width, height) properties.\n**/\nQuadTree.prototype.retrieve = function(item)\n{\n\t//get a copy of the array of items\n\tvar out = this.root.retrieve(item).slice(0);\n\t//return QuadTree._filterResults(out, {x:item.x, y:item.y, width:0, height:0});\n\treturn out;\n}\n\nQuadTree.prototype.retrieveInBounds = function (bounds)\n{\n\tvar treeResult = this.root.retrieveInBounds(bounds);\n\treturn QuadTree._filterResults(treeResult, bounds);\n}\n\nQuadTree._filterResults = function(treeResult, bounds)\n{\n\tvar filteredResult = [];\n\n\tif(this.root instanceof BoundsNode)\n\t{\n\t\tfor (var i=0; i < treeResult.length; i++)\n\t\t{\n\t\t\tvar node = treeResult[i];\n\t\t\tif (QuadTree._isBoundOverlappingBound(node, bounds))\n\t\t\t{\n\t\t\t\tfilteredResult.push(node);\n\t\t\t}\n\t\t}\n\t}\n\telse\n\t{\n\t\tfor (var i=0; i < treeResult.length; i++)\n\t\t{\n\t\t\tvar node = treeResult[i];\n\t\t\tif(QuadTree._isPointInsideBounds(node, bounds))\n\t\t\t{\n\t\t\t\tfilteredResult.push(node);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn filteredResult;\n}\n\nQuadTree._isPointInsideBounds = function (point, bounds)\n{\n\treturn (\n\t\t(point.x >= bounds.x) &&\n\t\t(point.x <= bounds.x + bounds.width) &&\n\t\t(point.y >= bounds.y) &&\n\t\t(point.y <= bounds.y + bounds.height)\n\t);\n}\n\n\nQuadTree._isBoundOverlappingBound = function (b1, b2)\n{\n\treturn !(\n\t        b1.x > (b2.x + b2.width)  || \n\t\t\tb2.x > (b1.x + b1.width)  || \n\t        b1.y > (b2.y + b2.height) ||\n\t        b2.y > (b1.y + b1.height)\n\t   );\n}\n\n/************** Node ********************/\n\n\nfunction Node(bounds, depth, maxDepth, maxChildren)\n{\n\tthis._bounds = bounds;\n\tthis.children = [];\n\tthis.nodes = [];\n\t\n\tif(maxChildren)\n\t{\n\t\tthis._maxChildren = maxChildren;\n\t\t\n\t}\n\t\n\tif(maxDepth)\n\t{\n\t\tthis._maxDepth = maxDepth;\n\t}\n\t\n\tif(depth)\n\t{\n\t\tthis._depth = depth;\n\t}\n}\n\n//subnodes\nNode.prototype.nodes = null;\nNode.prototype._classConstructor = Node;\n\n//children contained directly in the node\nNode.prototype.children = null;\nNode.prototype._bounds = null;\n\n//read only\nNode.prototype._depth = 0;\n\nNode.prototype._maxChildren = 4;\nNode.prototype._maxDepth = 4;\n\nNode.TOP_LEFT = 0;\nNode.TOP_RIGHT = 1;\nNode.BOTTOM_LEFT = 2;\nNode.BOTTOM_RIGHT = 3;\n\n\nNode.prototype.insert = function(item)\n{\n\tif(this.nodes.length)\n\t{\n\t\tvar index = this._findIndex(item);\n\t\t\n\t\tthis.nodes[index].insert(item);\n\t\t\n\t\treturn;\n\t}\n\n\tthis.children.push(item);\n\n\tvar len = this.children.length;\n\tif(!(this._depth >= this._maxDepth) && \n\t\tlen > this._maxChildren)\n\t{\n\t\tthis.subdivide();\n\t\t\n\t\tfor(var i = 0; i < len; i++)\n\t\t{\n\t\t\tthis.insert(this.children[i]);\n\t\t}\n\t\t\n\t\tthis.children.length = 0;\n\t}\n}\n\nNode.prototype.retrieve = function(item)\n{\n\tif(this.nodes.length)\n\t{\n\t\tvar index = this._findIndex(item);\n\t\t\n\t\treturn this.nodes[index].retrieve(item);\n\t}\n\t\n\treturn this.children;\n}\n\nNode.prototype.retrieveInBounds = function(bounds)\n{\n\tvar result = [];\n\n\tif(this.collidesWith(bounds))\n\t{\n\t\tresult = result.concat(this._stuckChildren);\n\t\t\n\t\tif(this.children.length)\n\t\t{\n\t\t\tresult = result.concat(this.children);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif(this.nodes.length)\n\t\t\t{\n\t\t\t\tfor (var i = 0; i < this.nodes.length; i++)\n\t\t\t\t{\n\t\t\t\t\tresult = result.concat(this.nodes[i].retrieveInBounds(bounds));\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t\n\treturn result;\n}\n\n\nNode.prototype.collidesWith = function (bounds)\n{\n\tvar b1 = this._bounds;\n\tvar b2 = bounds;\n\n\treturn !(\n\t        b1.x > (b2.x + b2.width)  || \n\t\t\tb2.x > (b1.x + b1.width)  || \n\t        b1.y > (b2.y + b2.height) ||\n\t        b2.y > (b1.y + b1.height)\n\t   );\n}\n\nNode.prototype._findIndex = function(item)\n{\n\tvar b = this._bounds;\n\tvar left = (item.x > b.x + b.width / 2)? false : true;\n\tvar top = (item.y > b.y + b.height / 2)? false : true;\n\t\n\t//top left\n\tvar index = Node.TOP_LEFT;\n\tif(left)\n\t{\n\t\t//left side\n\t\tif(!top)\n\t\t{\n\t\t\t//bottom left\n\t\t\tindex = Node.BOTTOM_LEFT;\n\t\t}\n\t}\n\telse\n\t{\n\t\t//right side\n\t\tif(top)\n\t\t{\n\t\t\t//top right\n\t\t\tindex = Node.TOP_RIGHT;\n\t\t}\n\t\telse\n\t\t{\n\t\t\t//bottom right\n\t\t\tindex = Node.BOTTOM_RIGHT;\n\t\t}\n\t}\n\t\n\treturn index;\n}\n\n\nNode.prototype.subdivide = function()\n{\n\tvar depth = this._depth + 1;\n\t\n\tvar bx = this._bounds.x;\n\tvar by = this._bounds.y;\n\t\n\t//floor the values\n\tvar b_w_h = (this._bounds.width / 2)|0;\n\tvar b_h_h = (this._bounds.height / 2)|0;\n\tvar bx_b_w_h = bx + b_w_h;\n\tvar by_b_h_h = by + b_h_h;\n\n\t//top left\n\tthis.nodes[Node.TOP_LEFT] = new this._classConstructor({\n\t\tx:bx, \n\t\ty:by, \n\t\twidth:b_w_h, \n\t\theight:b_h_h\n\t}, \n\tdepth, this._maxDepth, this._maxChildren);\n\t\n\t//top right\n\tthis.nodes[Node.TOP_RIGHT] = new this._classConstructor({\n\t\tx:bx_b_w_h,\n\t\ty:by,\n\t\twidth:b_w_h, \n\t\theight:b_h_h\n\t},\n\tdepth, this._maxDepth, this._maxChildren);\n\t\n\t//bottom left\n\tthis.nodes[Node.BOTTOM_LEFT] = new this._classConstructor({\n\t\tx:bx,\n\t\ty:by_b_h_h,\n\t\twidth:b_w_h, \n\t\theight:b_h_h\n\t},\n\tdepth, this._maxDepth, this._maxChildren);\n\t\n\t\n\t//bottom right\n\tthis.nodes[Node.BOTTOM_RIGHT] = new this._classConstructor({\n\t\tx:bx_b_w_h, \n\t\ty:by_b_h_h,\n\t\twidth:b_w_h, \n\t\theight:b_h_h\n\t},\n\tdepth, this._maxDepth, this._maxChildren);\t\n}\n\nNode.prototype.clear = function()\n{\t\n\tthis.children.length = 0;\n\t\n\tvar len = this.nodes.length;\n\tfor(var i = 0; i < len; i++)\n\t{\n\t\tthis.nodes[i].clear();\n\t}\n\t\n\tthis.nodes.length = 0;\n}\n\n\n/******************** BoundsQuadTree ****************/\n\nfunction BoundsNode(bounds, depth, maxChildren, maxDepth)\n{\n\tNode.call(this, bounds, depth, maxChildren, maxDepth);\n\tthis._stuckChildren = [];\n}\n\nBoundsNode.prototype = new Node();\nBoundsNode.prototype._classConstructor = BoundsNode;\nBoundsNode.prototype._stuckChildren = null;\n\n//we use this to collect and conctenate items being retrieved. This way\n//we dont have to continuously create new Array instances.\n//Note, when returned from QuadTree.retrieve, we then copy the array\nBoundsNode.prototype._out = [];\n\nBoundsNode.prototype.insert = function(item)\n{\t\n\tif(this.nodes.length)\n\t{\n\t\tvar index = this._findIndex(item);\n\t\tvar node = this.nodes[index];\n\n\t\t//todo: make _bounds bounds\n\t\tif(item.x >= node._bounds.x &&\n\t\t\titem.x + item.width <= node._bounds.x + node._bounds.width &&\n\t\t\titem.y >= node._bounds.y &&\n\t\t\titem.y + item.height <= node._bounds.y + node._bounds.height)\n\t\t{\n\t\t\tthis.nodes[index].insert(item);\n\t\t}\n\t\telse\n\t\t{\t\t\t\n\t\t\tthis._stuckChildren.push(item);\n\t\t}\n\t\t\n\t\treturn;\n\t}\n\n\tthis.children.push(item);\n\n\tvar len = this.children.length;\n\t\n\tif(!(this._depth >= this._maxDepth) && \n\t\tlen > this._maxChildren)\n\t{\n\t\tthis.subdivide();\n\t\t\n\t\tfor(var i = 0; i < len; i++)\n\t\t{\n\t\t\tthis.insert(this.children[i]);\n\t\t}\n\t\t\n\t\tthis.children.length = 0;\n\t}\n}\n\nBoundsNode.prototype.getChildren = function()\n{\n\treturn this.children.concat(this._stuckChildren);\n}\n\nBoundsNode.prototype.retrieve = function(item)\n{\n\tvar out = this._out;\n\tout.length = 0;\n\tif(this.nodes.length)\n\t{\n\t\tvar index = this._findIndex(item);\n\t\t\n\t\tout.push.apply(out, this.nodes[index].retrieve(item));\n\t}\n\t\n\tout.push.apply(out, this._stuckChildren);\n\tout.push.apply(out, this.children);\n\t\n\treturn out;\n}\n\nBoundsNode.prototype.clear = function()\n{\n\n\tthis._stuckChildren.length = 0;\n\t\n\t//array\n\tthis.children.length = 0;\n\t\n\tvar len = this.nodes.length;\n\t\n\tif(!len)\n\t{\n\t\treturn;\n\t}\n\t\n\tfor(var i = 0; i < len; i++)\n\t{\n\t\tthis.nodes[i].clear();\n\t}\n\t\n\t//array\n\tthis.nodes.length = 0;\t\n\t\n\t//we could call the super clear function but for now, im just going to inline it\n\t//call the hidden super.clear, and make sure its called with this = this instance\n\t//Object.getPrototypeOf(BoundsNode.prototype).clear.call(this);\n}\n\nBoundsNode.prototype.getChildCount\n\nwindow.QuadTree = QuadTree;\n\n/*\n//http://ejohn.org/blog/objectgetprototypeof/\nif ( typeof Object.getPrototypeOf !== \"function\" ) {\n  if ( typeof \"test\".__proto__ === \"object\" ) {\n    Object.getPrototypeOf = function(object){\n      return object.__proto__;\n    };\n  } else {\n    Object.getPrototypeOf = function(object){\n      // May break if the constructor has been tampered with\n      return object.constructor.prototype;\n    };\n  }\n}\n*/\n\n}(this));\n},{}],23:[function(_dereq_,module,exports){\n/*! howler.js v2.0.0-beta1 | (c) 2013-2015, James Simpson of GoldFire Studios | MIT License | howlerjs.com */\n!function(){\"use strict\";function e(){try{\"undefined\"!=typeof AudioContext?n=new AudioContext:\"undefined\"!=typeof webkitAudioContext?n=new webkitAudioContext:o=!1}catch(e){o=!1}if(!o)if(\"undefined\"!=typeof Audio)try{new Audio}catch(e){t=!0}else t=!0}var n=null,o=!0,t=!1;if(e(),o){var r=\"undefined\"==typeof n.createGain?n.createGainNode():n.createGain();r.gain.value=1,r.connect(n.destination)}var d=function(){this.init()};d.prototype={init:function(){var e=this||u;return e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e.iOSAutoEnable=!0,e.noAudio=t,e.usingWebAudio=o,e.ctx=n,t||e._setupCodecs(),e},volume:function(e){var n=this||u;if(e=parseFloat(e),\"undefined\"!=typeof e&&e>=0&&1>=e){n._volume=e,o&&(r.gain.value=e);for(var t=0;t<n._howls.length;t++)if(!n._howls[t]._webAudio)for(var d=n._howls[t]._getSoundIds(),a=0;a<d.length;a++){var i=n._howls[t]._soundById(d[a]);i&&i._node&&(i._node.volume=i._volume*e)}return n}return n._volume},mute:function(e){var n=this||u;n._muted=e,o&&(r.gain.value=e?0:n._volume);for(var t=0;t<n._howls.length;t++)if(!n._howls[t]._webAudio)for(var d=n._howls[t]._getSoundIds(),a=0;a<d.length;a++){var i=n._howls[t]._soundById(d[a]);i&&i._node&&(i._node.muted=e?!0:i._muted)}return n},codecs:function(e){return(this||u)._codecs[e]},_setupCodecs:function(){var e=this||u,n=new Audio,o=n.canPlayType(\"audio/mpeg;\").replace(/^no$/,\"\"),t=/OPR\\//.test(navigator.userAgent);return e._codecs={mp3:!(t||!o&&!n.canPlayType(\"audio/mp3;\").replace(/^no$/,\"\")),mpeg:!!o,opus:!!n.canPlayType('audio/ogg; codecs=\"opus\"').replace(/^no$/,\"\"),ogg:!!n.canPlayType('audio/ogg; codecs=\"vorbis\"').replace(/^no$/,\"\"),wav:!!n.canPlayType('audio/wav; codecs=\"1\"').replace(/^no$/,\"\"),aac:!!n.canPlayType(\"audio/aac;\").replace(/^no$/,\"\"),m4a:!!(n.canPlayType(\"audio/x-m4a;\")||n.canPlayType(\"audio/m4a;\")||n.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),mp4:!!(n.canPlayType(\"audio/x-mp4;\")||n.canPlayType(\"audio/mp4;\")||n.canPlayType(\"audio/aac;\")).replace(/^no$/,\"\"),weba:!!n.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\"),webm:!!n.canPlayType('audio/webm; codecs=\"vorbis\"').replace(/^no$/,\"\")},e},_enableiOSAudio:function(){var e=this||u;if(!n||!e._iOSEnabled&&/iPhone|iPad|iPod/i.test(navigator.userAgent)){e._iOSEnabled=!1;var o=function(){var t=n.createBuffer(1,1,22050),r=n.createBufferSource();r.buffer=t,r.connect(n.destination),\"undefined\"==typeof r.start?r.noteOn(0):r.start(0),setTimeout(function(){(r.playbackState===r.PLAYING_STATE||r.playbackState===r.FINISHED_STATE)&&(e._iOSEnabled=!0,e.iOSAutoEnable=!1,document.removeEventListener(\"touchend\",o,!1))},0)};return document.addEventListener(\"touchend\",o,!1),e}}};var u=new d,a=function(e){var n=this;return e.src&&0!==e.src.length?void n.init(e):void console.error(\"An array of source files must be passed with any new Howl.\")};a.prototype={init:function(e){var t=this;return t._autoplay=e.autoplay||!1,t._ext=e.ext||null,t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload=\"boolean\"==typeof e.preload?e.preload:!0,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src=\"string\"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._duration=0,t._loaded=!1,t._sounds=[],t._endTimers={},t._onend=e.onend?[{fn:e.onend}]:[],t._onfaded=e.onfaded?[{fn:e.onfaded}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._webAudio=o&&!t._html5,\"undefined\"!=typeof n&&n&&u.iOSAutoEnable&&u._enableiOSAudio(),u._howls.push(t),t._preload&&t.load(),t},load:function(){var e=this,n=null;if(t)return void e._emit(\"loaderror\");\"string\"==typeof e._src&&(e._src=[e._src]);for(var o=0;o<e._src.length;o++){var r,d;if(e._ext&&e._ext[o]?r=e._ext[o]:(d=e._src[o],r=/^data:audio\\/([^;,]+);/i.exec(d),r||(r=/\\.([^.]+)$/.exec(d.split(\"?\",1)[0])),r&&(r=r[1].toLowerCase())),u.codecs(r)){n=e._src[o];break}}return n?(e._src=n,new i(e),e._webAudio&&s(e),e):void e._emit(\"loaderror\")},play:function(e){var o=this,t=arguments,r=null;if(\"number\"==typeof e)r=e,e=null;else if(\"undefined\"==typeof e){e=\"__default\";for(var d=0,a=0;a<o._sounds.length;a++)o._sounds[a]._paused&&!o._sounds[a]._ended&&(d++,r=o._sounds[a]._id);1===d?e=null:r=null}var i=r?o._soundById(r):o._inactiveSound();if(!i)return null;if(r&&!e&&(e=i._sprite||\"__default\"),!o._loaded&&!o._sprite[e])return o.once(\"load\",function(){o.play(o._soundById(i._id)?i._id:void 0)}),i._id;if(r&&!i._paused)return i._id;var _=i._seek>0?i._seek:o._sprite[e][0]/1e3,s=(o._sprite[e][0]+o._sprite[e][1])/1e3-_,l=1e3*s/Math.abs(i._rate);o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l),i._paused=!1,i._ended=!1,i._sprite=e,i._seek=_,i._start=o._sprite[e][0]/1e3,i._stop=(o._sprite[e][0]+o._sprite[e][1])/1e3,i._loop=!(!i._loop&&!o._sprite[e][2]);var f=i._node;if(o._webAudio){var c=function(){o._refreshBuffer(i);var e=i._muted||o._muted?0:i._volume*u.volume();f.gain.setValueAtTime(e,n.currentTime),i._playStart=n.currentTime,\"undefined\"==typeof f.bufferSource.start?i._loop?f.bufferSource.noteGrainOn(0,_,86400):f.bufferSource.noteGrainOn(0,_,s):i._loop?f.bufferSource.start(0,_,86400):f.bufferSource.start(0,_,s),o._endTimers[i._id]||(o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l)),t[1]||setTimeout(function(){o._emit(\"play\",i._id)},0)};o._loaded?c():(o.once(\"load\",c),o._clearTimer(i._id))}else{var p=function(){f.currentTime=_,f.muted=i._muted||o._muted||u._muted||f.muted,f.volume=i._volume*u.volume(),f.playbackRate=i._rate,setTimeout(function(){f.play(),t[1]||o._emit(\"play\",i._id)},0)};if(4===f.readyState||!f.readyState&&navigator.isCocoonJS)p();else{var m=function(){o._endTimers[i._id]=setTimeout(o._ended.bind(o,i),l),p(),f.removeEventListener(\"canplaythrough\",m,!1)};f.addEventListener(\"canplaythrough\",m,!1),o._clearTimer(i._id)}}return i._id},pause:function(e){var n=this;if(!n._loaded)return n.once(\"play\",function(){n.pause(e)}),n;for(var o=n._getSoundIds(e),t=0;t<o.length;t++){n._clearTimer(o[t]);var r=n._soundById(o[t]);if(r&&!r._paused){if(r._seek=n.seek(o[t]),r._paused=!0,n._webAudio){if(!r._node.bufferSource)return n;\"undefined\"==typeof r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),r._node.bufferSource=null}else isNaN(r._node.duration)||r._node.pause();arguments[1]||n._emit(\"pause\",r._id)}}return n},stop:function(e){var n=this;if(!n._loaded)return\"undefined\"!=typeof n._sounds[0]._sprite&&n.once(\"play\",function(){n.stop(e)}),n;for(var o=n._getSoundIds(e),t=0;t<o.length;t++){n._clearTimer(o[t]);var r=n._soundById(o[t]);if(r&&!r._paused){if(r._seek=r._start||0,r._paused=!0,r._ended=!0,n._webAudio&&r._node){if(!r._node.bufferSource)return n;\"undefined\"==typeof r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),r._node.bufferSource=null}else r._node&&!isNaN(r._node.duration)&&(r._node.pause(),r._node.currentTime=r._start||0);n._emit(\"stop\",r._id)}}return n},mute:function(e,o){var t=this;if(!t._loaded)return t.once(\"play\",function(){t.mute(e,o)}),t;if(\"undefined\"==typeof o){if(\"boolean\"!=typeof e)return t._muted;t._muted=e}for(var r=t._getSoundIds(o),d=0;d<r.length;d++){var a=t._soundById(r[d]);a&&(a._muted=e,t._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume*u.volume(),n.currentTime):a._node&&(a._node.muted=u._muted?!0:e))}return t},volume:function(){var e,o,t=this,r=arguments;if(0===r.length)return t._volume;if(1===r.length){var d=t._getSoundIds(),a=d.indexOf(r[0]);a>=0?o=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),o=parseInt(r[1],10));var i;if(!(\"undefined\"!=typeof e&&e>=0&&1>=e))return i=o?t._soundById(o):t._sounds[0],i?i._volume:0;if(!t._loaded)return t.once(\"play\",function(){t.volume.apply(t,r)}),t;\"undefined\"==typeof o&&(t._volume=e),o=t._getSoundIds(o);for(var _=0;_<o.length;_++)i=t._soundById(o[_]),i&&(i._volume=e,t._webAudio&&i._node&&!i._muted?i._node.gain.setValueAtTime(e*u.volume(),n.currentTime):i._node&&!i._muted&&(i._node.volume=e*u.volume()));return t},fade:function(e,o,t,r){var d=this;if(!d._loaded)return d.once(\"play\",function(){d.fade(e,o,t,r)}),d;d.volume(e,r);for(var u=d._getSoundIds(r),a=0;a<u.length;a++){var i=d._soundById(u[a]);if(i)if(d._webAudio&&!i._muted){var _=n.currentTime,s=_+t/1e3;i._volume=e,i._node.gain.setValueAtTime(e,_),i._node.gain.linearRampToValueAtTime(o,s),setTimeout(function(e,t){setTimeout(function(){t._volume=o,d._emit(\"faded\",e)},s-n.currentTime>0?Math.ceil(1e3*(s-n.currentTime)):0)}.bind(d,u[a],i),t)}else{var l=Math.abs(e-o),f=e>o?\"out\":\"in\",c=l/.01,p=t/c;!function(){var n=e,t=setInterval(function(e){n+=\"in\"===f?.01:-.01,n=Math.max(0,n),n=Math.min(1,n),n=Math.round(100*n)/100,d.volume(n,e),n===o&&(clearInterval(t),d._emit(\"faded\",e))}.bind(d,u[a]),p)}()}}return d},loop:function(){var e,n,o,t=this,r=arguments;if(0===r.length)return t._loop;if(1===r.length){if(\"boolean\"!=typeof r[0])return o=t._soundById(parseInt(r[0],10)),o?o._loop:!1;e=r[0],t._loop=e}else 2===r.length&&(e=r[0],n=parseInt(r[1],10));for(var d=t._getSoundIds(n),u=0;u<d.length;u++)o=t._soundById(d[u]),o&&(o._loop=e,t._webAudio&&o._node&&o._node.bufferSource&&(o._node.bufferSource.loop=e));return t},rate:function(){var e,n,o=this,t=arguments;if(0===t.length)n=o._sounds[0]._id;else if(1===t.length){var r=o._getSoundIds(),d=r.indexOf(t[0]);d>=0?n=parseInt(t[0],10):e=parseFloat(t[0])}else 2===t.length&&(e=parseFloat(t[0]),n=parseInt(t[1],10));var u;if(\"number\"!=typeof e)return u=o._soundById(n),u?u._rate:o._rate;if(!o._loaded)return o.once(\"load\",function(){o.rate.apply(o,t)}),o;\"undefined\"==typeof n&&(o._rate=e),n=o._getSoundIds(n);for(var a=0;a<n.length;a++)if(u=o._soundById(n[a])){u._rate=e,o._webAudio&&u._node&&u._node.bufferSource?u._node.bufferSource.playbackRate.value=e:u._node&&(u._node.playbackRate=e);var i=o.seek(n[a]),_=(o._sprite[u._sprite][0]+o._sprite[u._sprite][1])/1e3-i,s=1e3*_/Math.abs(u._rate);o._clearTimer(n[a]),o._endTimers[n[a]]=setTimeout(o._ended.bind(o,u),s)}return o},seek:function(){var e,o,t=this,r=arguments;if(0===r.length)o=t._sounds[0]._id;else if(1===r.length){var d=t._getSoundIds(),u=d.indexOf(r[0]);u>=0?o=parseInt(r[0],10):(o=t._sounds[0]._id,e=parseFloat(r[0]))}else 2===r.length&&(e=parseFloat(r[0]),o=parseInt(r[1],10));if(\"undefined\"==typeof o)return t;if(!t._loaded)return t.once(\"load\",function(){t.seek.apply(t,r)}),t;var a=t._soundById(o);if(a){if(!(e>=0))return t._webAudio?a._seek+(t.playing(o)?n.currentTime-a._playStart:0):a._node.currentTime;var i=t.playing(o);i&&t.pause(o,!0),a._seek=e,t._clearTimer(o),i&&t.play(o,!0)}return t},playing:function(e){var n=this,o=n._soundById(e)||n._sounds[0];return o?!o._paused:!1},duration:function(){return this._duration},unload:function(){for(var e=this,n=e._sounds,o=0;o<n.length;o++){n[o]._paused||(e.stop(n[o]._id),e._emit(\"end\",n[o]._id)),e._webAudio||(n[o]._node.src=\"\",n[o]._node.removeEventListener(\"error\",n[o]._errorFn,!1),n[o]._node.removeEventListener(\"canplaythrough\",n[o]._loadFn,!1)),delete n[o]._node,e._clearTimer(n[o]._id);var t=u._howls.indexOf(e);t>=0&&u._howls.splice(t,1)}return _&&delete _[e._src],e=null,null},on:function(e,n,o,t){var r=this,d=r[\"_on\"+e];return\"function\"==typeof n&&d.push(t?{id:o,fn:n,once:t}:{id:o,fn:n}),r},off:function(e,n,o){var t=this,r=t[\"_on\"+e];if(n){for(var d=0;d<r.length;d++)if(n===r[d].fn&&o===r[d].id){r.splice(d,1);break}}else t[\"on\"+e]=[];return t},once:function(e,n,o){var t=this;return t.on(e,n,o,1),t},_emit:function(e,n,o){for(var t=this,r=t[\"_on\"+e],d=0;d<r.length;d++)r[d].id&&r[d].id!==n||(setTimeout(function(e){e.call(this,n,o)}.bind(t,r[d].fn),0),r[d].once&&t.off(e,r[d].fn,n));return t},_ended:function(e){var o=this,t=e._sprite,r=!(!e._loop&&!o._sprite[t][2]);if(o._emit(\"end\",e._id),!o._webAudio&&r&&o.stop(e._id).play(e._id),o._webAudio&&r){o._emit(\"play\",e._id),e._seek=e._start||0,e._playStart=n.currentTime;var d=1e3*(e._stop-e._start)/Math.abs(e._rate);o._endTimers[e._id]=setTimeout(o._ended.bind(o,e),d)}return o._webAudio&&!r&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,o._clearTimer(e._id),e._node.bufferSource=null),o._webAudio||r||o.stop(e._id),o},_clearTimer:function(e){var n=this;return n._endTimers[e]&&(clearTimeout(n._endTimers[e]),delete n._endTimers[e]),n},_soundById:function(e){for(var n=this,o=0;o<n._sounds.length;o++)if(e===n._sounds[o]._id)return n._sounds[o];return null},_inactiveSound:function(){var e=this;e._drain();for(var n=0;n<e._sounds.length;n++)if(e._sounds[n]._ended)return e._sounds[n].reset();return new i(e)},_drain:function(){var e=this,n=e._pool,o=0,t=0;if(!(e._sounds.length<n)){for(t=0;t<e._sounds.length;t++)e._sounds[t]._ended&&o++;for(t=e._sounds.length-1;t>=0;t--){if(n>=o)return;e._sounds[t]._ended&&(e._webAudio&&e._sounds[t]._node&&e._sounds[t]._node.disconnect(0),e._sounds.splice(t,1),o--)}}},_getSoundIds:function(e){var n=this;if(\"undefined\"==typeof e){for(var o=[],t=0;t<n._sounds.length;t++)o.push(n._sounds[t]._id);return o}return[e]},_refreshBuffer:function(e){var o=this;return e._node.bufferSource=n.createBufferSource(),e._node.bufferSource.buffer=_[o._src],e._node.bufferSource.connect(e._panner?e._panner:e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.value=o._rate,o}};var i=function(e){this._parent=e,this.init()};if(i.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._muted=n._muted,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._id=Math.round(Date.now()*Math.random()),n._sounds.push(e),e.create(),e},create:function(){var e=this,o=e._parent,t=u._muted||e._muted||e._parent._muted?0:e._volume*u.volume();return o._webAudio?(e._node=\"undefined\"==typeof n.createGain?n.createGainNode():n.createGain(),e._node.gain.setValueAtTime(t,n.currentTime),e._node.paused=!0,e._node.connect(r)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener(\"error\",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(\"canplaythrough\",e._loadFn,!1),e._node.src=o._src,e._node.preload=\"auto\",e._node.volume=t,e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._muted=n._muted,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite=null,e._id=Math.round(Date.now()*Math.random()),e},_errorListener:function(){var e=this;e._node.error&&4===e._node.error.code&&(u.noAudio=!0),e._parent._emit(\"loaderror\",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener(\"error\",e._errorListener,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(n._sprite).length&&(n._sprite={__default:[0,1e3*n._duration]}),n._loaded||(n._loaded=!0,n._emit(\"load\")),n._autoplay&&n.play(),e._node.removeEventListener(\"canplaythrough\",e._loadFn,!1)}},o)var _={},s=function(e){var n=e._src;if(_[n])return e._duration=_[n].duration,void c(e);if(/^data:[^;]+;base64,/.test(n)){window.atob=window.atob||function(e){for(var n,o,t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",r=String(e).replace(/=+$/,\"\"),d=0,u=0,a=\"\";o=r.charAt(u++);~o&&(n=d%4?64*n+o:o,d++%4)?a+=String.fromCharCode(255&n>>(-2*d&6)):0)o=t.indexOf(o);return a};for(var o=atob(n.split(\",\")[1]),t=new Uint8Array(o.length),r=0;r<o.length;++r)t[r]=o.charCodeAt(r);f(t.buffer,e)}else{var d=new XMLHttpRequest;d.open(\"GET\",n,!0),d.responseType=\"arraybuffer\",d.onload=function(){f(d.response,e)},d.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete _[n],e.load())},l(d)}},l=function(e){try{e.send()}catch(n){e.onerror()}},f=function(e,o){n.decodeAudioData(e,function(e){e&&(_[o._src]=e,c(o,e))},function(){o._emit(\"loaderror\")})},c=function(e,n){n&&!e._duration&&(e._duration=n.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),e._loaded||(e._loaded=!0,e._emit(\"load\")),e._autoplay&&e.play()};\"function\"==typeof define&&define.amd&&define(\"howler\",function(){return{Howler:u,Howl:a}}),\"undefined\"!=typeof exports&&(exports.Howler=u,exports.Howl=a),\"undefined\"!=typeof window&&(window.HowlerGlobal=d,window.Howler=u,window.Howl=a,window.Sound=i)}();\n/*! Effects Plugin */\n!function(){\"use strict\";HowlerGlobal.prototype.init=function(e){return function(){var n=this;return n._pos=[0,0,0],n._orientation=[0,0,-1,0,1,0],n._velocity=[0,0,0],n._listenerAttr={dopplerFactor:1,speedOfSound:343.3},e.call(this,o)}}(HowlerGlobal.prototype.init),HowlerGlobal.prototype.pos=function(e,n,t){var o=this;return o.ctx&&o.ctx.listener?(n=\"number\"!=typeof n?o._pos[1]:n,t=\"number\"!=typeof t?o._pos[2]:t,\"number\"!=typeof e?o._pos:(o._pos=[e,n,t],o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]),o)):o},HowlerGlobal.prototype.orientation=function(e,n,t,o,r,i){var a=this;if(!a.ctx||!a.ctx.listener)return a;var p=a._orientation;return n=\"number\"!=typeof n?p[1]:n,t=\"number\"!=typeof t?p[2]:t,o=\"number\"!=typeof o?p[3]:o,r=\"number\"!=typeof r?p[4]:r,i=\"number\"!=typeof i?p[5]:i,\"number\"!=typeof e?p:(a._orientation=[e,n,t,o,r,i],a.ctx.listener.setOrientation(p[0],p[1],p[2],p[3],p[4],p[5]),a)},HowlerGlobal.prototype.velocity=function(e,n,t){var o=this;return o.ctx&&o.ctx.listener?(n=\"number\"!=typeof n?o._velocity[1]:n,t=\"number\"!=typeof t?o._velocity[2]:t,\"number\"!=typeof e?o._velocity:(o._velocity=[e,n,t],o.ctx.listener.setVelocity(o._velocity[0],o._velocity[1],o._velocity[2]),o)):o},HowlerGlobal.prototype.listenerAttr=function(e){var n=this;if(!n.ctx||!n.ctx.listener)return n;var t=n._listenerAttr;return e?(n._listenerAttr={dopplerFactor:\"undefined\"!=typeof e.dopplerFactor?e.dopplerFactor:t.dopplerFactor,speedOfSound:\"undefined\"!=typeof e.speedOfSound?e.speedOfSound:t.speedOfSound},n.ctx.listener.dopplerFactor=t.dopplerFactor,n.ctx.listener.speedOfSound=t.speedOfSound,n):t},Howl.prototype.init=function(e){return function(n){var t=this;return t._orientation=n.orientation||[1,0,0],t._pos=n.pos||null,t._velocity=n.velocity||[0,0,0],t._pannerAttr={coneInnerAngle:\"undefined\"!=typeof n.coneInnerAngle?n.coneInnerAngle:360,coneOUterAngle:\"undefined\"!=typeof n.coneOUterAngle?n.coneOUterAngle:360,coneOuterGain:\"undefined\"!=typeof n.coneOuterGain?n.coneOuterGain:0,distanceModel:\"undefined\"!=typeof n.distanceModel?n.distanceModel:\"inverse\",maxDistance:\"undefined\"!=typeof n.maxDistance?n.maxDistance:1e4,panningModel:\"undefined\"!=typeof n.panningModel?n.panningModel:\"HRTF\",refDistance:\"undefined\"!=typeof n.refDistance?n.refDistance:1,rolloffFactor:\"undefined\"!=typeof n.rolloffFactor?n.rolloffFactor:1},e.call(this,n)}}(Howl.prototype.init),Howl.prototype.pos=function(n,t,o,r){var i=this;if(!i._webAudio)return i;if(!i._loaded)return i.once(\"play\",function(){i.pos(n,t,o,r)}),i;if(t=\"number\"!=typeof t?0:t,o=\"number\"!=typeof o?-.5:o,\"undefined\"==typeof r){if(\"number\"!=typeof n)return i._pos;i._pos=[n,t,o]}for(var a=i._getSoundIds(r),p=0;p<a.length;p++){var l=i._soundById(a[p]);if(l){if(\"number\"!=typeof n)return l._pos;l._pos=[n,t,o],l._node&&(l._panner||e(l),l._panner.setPosition(n,t,o))}}return i},Howl.prototype.orientation=function(n,t,o,r){var i=this;if(!i._webAudio)return i;if(!i._loaded)return i.once(\"play\",function(){i.orientation(n,t,o,r)}),i;if(t=\"number\"!=typeof t?i._orientation[1]:t,o=\"number\"!=typeof o?i._orientation[1]:o,\"undefined\"==typeof r){if(\"number\"!=typeof n)return i._orientation;i._orientation=[n,t,o]}for(var a=i._getSoundIds(r),p=0;p<a.length;p++){var l=i._soundById(a[p]);if(l){if(\"number\"!=typeof n)return l._orientation;l._orientation=[n,t,o],l._node&&(l._panner||e(l),l._panner.setOrientation(n,t,o))}}return i},Howl.prototype.velocity=function(n,t,o,r){var i=this;if(!i._webAudio)return i;if(!i._loaded)return i.once(\"play\",function(){i.velocity(n,t,o,r)}),i;if(t=\"number\"!=typeof t?i._velocity[1]:t,o=\"number\"!=typeof o?i._velocity[1]:o,\"undefined\"==typeof r){if(\"number\"!=typeof n)return i._velocity;i._velocity=[n,t,o]}for(var a=i._getSoundIds(r),p=0;p<a.length;p++){var l=i._soundById(a[p]);if(l){if(\"number\"!=typeof n)return l._velocity;l._velocity=[n,t,o],l._node&&(l._panner||e(l),l._panner.setVelocity(n,t,o))}}return i},Howl.prototype.pannerAttr=function(){var n,t,o,r=this,i=arguments;if(!r._webAudio)return r;if(0===i.length)return r._pannerAttr;if(1===i.length){if(\"object\"!=typeof i[0])return o=r._soundById(parseInt(i[0],10)),o?o._pannerAttr:r._pannerAttr;n=i[0],\"undefined\"==typeof t&&(r._pannerAttr={coneInnerAngle:\"undefined\"!=typeof n.coneInnerAngle?n.coneInnerAngle:r._coneInnerAngle,coneOUterAngle:\"undefined\"!=typeof n.coneOUterAngle?n.coneOUterAngle:r._coneOUterAngle,coneOuterGain:\"undefined\"!=typeof n.coneOuterGain?n.coneOuterGain:r._coneOuterGain,distanceModel:\"undefined\"!=typeof n.distanceModel?n.distanceModel:r._distanceModel,maxDistance:\"undefined\"!=typeof n.maxDistance?n.maxDistance:r._maxDistance,panningModel:\"undefined\"!=typeof n.panningModel?n.panningModel:r._panningModel,refDistance:\"undefined\"!=typeof n.refDistance?n.refDistance:r._refDistance,rolloffFactor:\"undefined\"!=typeof n.rolloffFactor?n.rolloffFactor:r._rolloffFactor})}else 2===i.length&&(n=i[0],t=parseInt(i[1],10));for(var a=r._getSoundIds(t),p=0;p<a.length;p++)if(o=r._soundById(a[p])){var l=o._pannerAttr;l={coneInnerAngle:\"undefined\"!=typeof n.coneInnerAngle?n.coneInnerAngle:l.coneInnerAngle,coneOUterAngle:\"undefined\"!=typeof n.coneOUterAngle?n.coneOUterAngle:l.coneOUterAngle,coneOuterGain:\"undefined\"!=typeof n.coneOuterGain?n.coneOuterGain:l.coneOuterGain,distanceModel:\"undefined\"!=typeof n.distanceModel?n.distanceModel:l.distanceModel,maxDistance:\"undefined\"!=typeof n.maxDistance?n.maxDistance:l.maxDistance,panningModel:\"undefined\"!=typeof n.panningModel?n.panningModel:l.panningModel,refDistance:\"undefined\"!=typeof n.refDistance?n.refDistance:l.refDistance,rolloffFactor:\"undefined\"!=typeof n.rolloffFactor?n.rolloffFactor:l.rolloffFactor};var c=o._panner;c?(c.coneInnerAngle=l.coneInnerAngle,c.coneOUterAngle=l.coneOUterAngle,c.coneOuterGain=l.coneOuterGain,c.distanceModel=l.distanceModel,c.maxDistance=l.maxDistance,c.panningModel=l.panningModel,c.refDistance=l.refDistance,c.rolloffFactor=l.rolloffFactor):(o._pos||(o._pos=r._pos||[0,0,-.5]),e(o))}return r},Sound.prototype.init=function(e){return function(){var n=this,t=n._parent;n._orientation=t._orientation,n._pos=t._pos,n._velocity=t._velocity,n._pannerAttr=t._pannerAttr,e.call(this),n._pos&&t.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var n=this,t=n._parent;return n._orientation=t._orientation,n._pos=t._pos,n._velocity=t._velocity,n._pannerAttr=t._pannerAttr,e.call(this)}}(Sound.prototype.reset);var e=function(e){e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOUterAngle=e._pannerAttr.coneOUterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.panningModel=e._pannerAttr.panningModel,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2]),e._panner.setVelocity(e._velocity[0],e._velocity[1],e._velocity[2]),e._panner.connect(e._node),e._paused||e._parent.pause(e._id).play(e._id)}}();\n},{}],24:[function(_dereq_,module,exports){\n// stats.js - http://github.com/mrdoob/stats.js\nvar Stats=function(){function f(a,e,b){a=document.createElement(a);a.id=e;a.style.cssText=b;return a}function l(a,e,b){var c=f(\"div\",a,\"padding:0 0 3px 3px;text-align:left;background:\"+b),d=f(\"div\",a+\"Text\",\"font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px;color:\"+e);d.innerHTML=a.toUpperCase();c.appendChild(d);a=f(\"div\",a+\"Graph\",\"width:74px;height:30px;background:\"+e);c.appendChild(a);for(e=0;74>e;e++)a.appendChild(f(\"span\",\"\",\"width:1px;height:30px;float:left;opacity:0.9;background:\"+\nb));return c}function m(a){for(var b=c.children,d=0;d<b.length;d++)b[d].style.display=d===a?\"block\":\"none\";n=a}function p(a,b){a.appendChild(a.firstChild).style.height=Math.min(30,30-30*b)+\"px\"}var q=self.performance&&self.performance.now?self.performance.now.bind(performance):Date.now,k=q(),r=k,t=0,n=0,c=f(\"div\",\"stats\",\"width:80px;opacity:0.9;cursor:pointer\");c.addEventListener(\"mousedown\",function(a){a.preventDefault();m(++n%c.children.length)},!1);var d=0,u=Infinity,v=0,b=l(\"fps\",\"#0ff\",\"#002\"),\nA=b.children[0],B=b.children[1];c.appendChild(b);var g=0,w=Infinity,x=0,b=l(\"ms\",\"#0f0\",\"#020\"),C=b.children[0],D=b.children[1];c.appendChild(b);if(self.performance&&self.performance.memory){var h=0,y=Infinity,z=0,b=l(\"mb\",\"#f08\",\"#201\"),E=b.children[0],F=b.children[1];c.appendChild(b)}m(n);return{REVISION:14,domElement:c,setMode:m,begin:function(){k=q()},end:function(){var a=q();g=a-k;w=Math.min(w,g);x=Math.max(x,g);C.textContent=(g|0)+\" MS (\"+(w|0)+\"-\"+(x|0)+\")\";p(D,g/200);t++;if(a>r+1E3&&(d=Math.round(1E3*\nt/(a-r)),u=Math.min(u,d),v=Math.max(v,d),A.textContent=d+\" FPS (\"+u+\"-\"+v+\")\",p(B,d/100),r=a,t=0,void 0!==h)){var b=performance.memory.usedJSHeapSize,c=performance.memory.jsHeapSizeLimit;h=Math.round(9.54E-7*b);y=Math.min(y,h);z=Math.max(z,h);E.textContent=h+\" MB (\"+y+\"-\"+z+\")\";p(F,b/c)}return a},update:function(){k=this.end()}}};\"object\"===typeof module&&(module.exports=Stats);\n\n},{}]},{},[15])\n(15)\n});"]}